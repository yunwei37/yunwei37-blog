const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/slidev/md-CA04kQdO.js","assets/modules/vue-CVEjzCsQ.js","assets/slidev/context-BxwITPeH.js","assets/modules/shiki-vBOq2oBG.js","assets/modules/shiki-UqVAgQbi.css","assets/md-TLiO_OmO.js","assets/slidev/default-BqaX2aeV.js","assets/md-CzFHpWpi.js","assets/md-BqaIrDUI.js","assets/md-CpYGPXNJ.js","assets/md-CF5GU99D.js","assets/md-ZiCU5NK2.js","assets/md-BgVmTYw1.js","assets/md-DaRzQGzI.js","assets/md-DYFsQwSv.js","assets/md-xi10FVO8.js","assets/md-imdbGzCG.js","assets/slidev/center-DW7FjzFT.js","assets/md-BWA9fPWR.js","assets/md-BYLLmlp6.js","assets/md-DddCzaiK.js","assets/md-DBwFvr9Y.js","assets/md-CNTyfQyO.js","assets/slidev/entry-B6OyIroc.js","assets/entry-CFEm4ffZ.css","assets/slidev/overview-4zutn7KQ.js","assets/modules/unplugin-icons-DSfnFgej.js","assets/slidev/NoteDisplay.vue_vue_type_style_index_0_lang-BeDdfiev.js","assets/NoteDisplay-Dvps3Esd.css","assets/slidev/SlideWrapper-Ceoq7Y4E.js","assets/SlideWrapper-C-32Yk4H.css","assets/slidev/IconButton.vue_vue_type_script_setup_true_lang-Cu_eOQFd.js","assets/slidev/useSlideInfo-b2dJpUlu.js","assets/slidev/notes-CRriqRiX.js","assets/slidev/TimerBar.vue_vue_type_script_setup_true_lang-EGijjLNs.js","assets/slidev/Modal.vue_vue_type_script_setup_true_lang-N6btjHdi.js","assets/slidev/notes-edit-B8btUzeI.js","assets/slidev/presenter-BrlRpD5I.js","assets/slidev/shortcuts-CLve_39b.js","assets/shortcuts-D8-PXO7o.css","assets/slidev/DrawingControls.vue_vue_type_style_index_0_lang-CkrU_Pu7.js","assets/DrawingControls-Cxk9a9ub.css","assets/presenter-JRT1n0iA.css","assets/slidev/play-CEByQMof.js","assets/play-D_7yfuao.css","assets/slidev/404-DAbi6os4.js","assets/404-5_EtAIQi.css"])))=>i.map(i=>d[i]);
import{z as k,A as fo,B as Xt,C as ho,D as bs,E as ze,G as po,H as go,I as mo,r as T,J as ks,K as ee,L as _s,M as j,N as yo,O as vo,o as bt,e as en,t as wo,f as Ss,F as bo,g as xn,j as ko,P as L,Q as yn,R as _o,S as At,p as So,T as Mo,U as To,V as Oo,W as V,X as Po,Y as Ms,Z as Eo,_ as Lo,$ as Ct,a0 as Ao,a1 as Ts,a2 as Co,a3 as $o,a4 as Ro,a5 as Os,b as xo,a as Io,a6 as No,a7 as Do,a8 as jo,a9 as Ho,aa as Bo,ab as Fo,ac as zo,c as Vo}from"./modules/vue-CVEjzCsQ.js";import{T as qo}from"./modules/shiki-vBOq2oBG.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();const R={theme:"seriph",title:"GPT-OSS & Safety Tax",titleTemplate:"%s - Slidev",addons:[],remoteAssets:!1,monaco:!0,monacoTypesSource:"local",monacoTypesAdditionalPackages:[],monacoTypesIgnorePackages:[],monacoRunAdditionalDeps:[],monacoRunUseStrict:!0,download:!1,export:{},info:`<h2>GPT-OSS (20B, 120B) &amp; the &quot;Safety Tax&quot;</h2>
<p>Open-Source Reasoning Models and the Cost of Safety</p>
`,highlighter:"shiki",twoslash:!0,lineNumbers:!1,colorSchema:"auto",routerMode:"history",aspectRatio:1.7777777777777777,canvasWidth:980,exportFilename:"",selectable:!1,themeConfig:{},fonts:{sans:['"PT Serif"',"ui-sans-serif","system-ui","-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial",'"Noto Sans"',"sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"','"Noto Color Emoji"'],serif:['"PT Serif"',"ui-serif","Georgia","Cambria",'"Times New Roman"',"Times","serif"],mono:['"PT Mono"',"ui-monospace","SFMono-Regular","Menlo","Monaco","Consolas",'"Liberation Mono"','"Courier New"',"monospace"],webfonts:["PT Serif","PT Mono"],provider:"google",local:[],italic:!0,weights:["400","700"]},favicon:"https://cdn.jsdelivr.net/gh/slidevjs/slidev/assets/favicon.png",drawings:{enabled:!0,persist:!1,presenterOnly:!1,syncAll:!0},plantUmlServer:"https://www.plantuml.com/plantuml",codeCopy:!0,magicMoveCopy:!0,author:"",record:"dev",css:"unocss",presenter:!0,browserExporter:"dev",htmlAttrs:{},transition:"slide-left",editor:!0,contextMenu:null,wakeLock:!0,mdc:!0,seoMeta:{},notesAutoRuby:{},duration:"35min",timer:"stopwatch",magicMoveDuration:800,preloadImages:!0,background:"https://cover.sli.dev",class:"text-center",slidesTitle:"GPT-OSS & Safety Tax - Slidev"};function tn(t,e,n){return Math.min(n,Math.max(e,t))}function Wo(...t){return Uo(t).reduce((e,n)=>e+n,0)}function Go(t){return t=t??[],Array.isArray(t)?t:[t]}function Uo(t){return Go(t).flat(1)}function Jo(t){return Array.from(new Set(t))}function In(...t){let e,n,s;t.length===1?(e=0,s=1,[n]=t):[e,n,s=1]=t;const o=[];let r=e;for(;r<n;)o.push(r),r+=s||1;return o}function Ko(t){return t!=null}function Qo(t,e){return Object.fromEntries(Object.entries(t).map(([n,s])=>e(n,s)).filter(Ko))}const bl="build",Ps=k(()=>R.aspectRatio),Es=k(()=>R.canvasWidth),Yo=k(()=>Math.ceil(Es.value/Ps.value)),Zo=k(()=>Qo(R.themeConfig||{},(t,e)=>[`--slidev-theme-${t}`,e])),Bt=R.slidesTitle,kl="/presentation/gptoss-safetytax/",Xo=[Object.values([])[0],Object.values([])[0]].filter(Boolean),er=new Set(["link","style","script","noscript"]),tr=new Set(["title","titleTemplate","script","style","noscript"]),Nn=new Set(["base","meta","link","style","script","noscript"]),nr=new Set(["title","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"]),sr=new Set(["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"]),or=new Set(["key","tagPosition","tagPriority","tagDuplicateStrategy","innerHTML","textContent","processTemplateParams"]),rr=new Set(["templateParams","htmlAttrs","bodyAttrs"]),ir=new Set(["theme-color","google-site-verification","og","article","book","profile","twitter","author"]);function nn(t,e={},n){for(const s in t){const o=t[s],r=n?`${n}:${s}`:s;typeof o=="object"&&o!==null?nn(o,e,r):typeof o=="function"&&(e[r]=o)}return e}const Ls=(()=>{if(console.createTask)return console.createTask;const t={run:e=>e()};return()=>t})();function As(t,e,n,s){for(let o=n;o<t.length;o+=1)try{const r=s?s.run(()=>t[o](...e)):t[o](...e);if(r instanceof Promise)return r.then(()=>As(t,e,o+1,s))}catch(r){return Promise.reject(r)}}function ar(t,e,n){if(t.length>0)return As(t,e,0,Ls(n))}function lr(t,e,n){if(t.length>0){const s=Ls(n);return Promise.all(t.map(o=>s.run(()=>o(...e))))}}function Ft(t,e){for(const n of[...t])n(e)}var cr=class{_hooks;_before;_after;_deprecatedHooks;_deprecatedMessages;constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(t,e,n={}){if(!t||typeof e!="function")return()=>{};const s=t;let o;for(;this._deprecatedHooks[t];)o=this._deprecatedHooks[t],t=o.to;if(o&&!n.allowDeprecated){let r=o.message;r||(r=`${s} hook has been deprecated`+(o.to?`, please use ${o.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(r)||(console.warn(r),this._deprecatedMessages.add(r))}if(!e.name)try{Object.defineProperty(e,"name",{get:()=>"_"+t.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[t]=this._hooks[t]||[],this._hooks[t].push(e),()=>{e&&(this.removeHook(t,e),e=void 0)}}hookOnce(t,e){let n,s=(...o)=>(typeof n=="function"&&n(),n=void 0,s=void 0,e(...o));return n=this.hook(t,s),n}removeHook(t,e){const n=this._hooks[t];if(n){const s=n.indexOf(e);s!==-1&&n.splice(s,1),n.length===0&&(this._hooks[t]=void 0)}}deprecateHook(t,e){this._deprecatedHooks[t]=typeof e=="string"?{to:e}:e;const n=this._hooks[t]||[];this._hooks[t]=void 0;for(const s of n)this.hook(t,s)}deprecateHooks(t){for(const e in t)this.deprecateHook(e,t[e])}addHooks(t){const e=nn(t),n=Object.keys(e).map(s=>this.hook(s,e[s]));return()=>{for(const s of n)s();n.length=0}}removeHooks(t){const e=nn(t);for(const n in e)this.removeHook(n,e[n])}removeAllHooks(){this._hooks={}}callHook(t,...e){return this.callHookWith(ar,t,e)}callHookParallel(t,...e){return this.callHookWith(lr,t,e)}callHookWith(t,e,n){const s=this._before||this._after?{name:e,args:n,context:{}}:void 0;this._before&&Ft(this._before,s);const o=t(this._hooks[e]?[...this._hooks[e]]:[],n,e);return o instanceof Promise?o.finally(()=>{this._after&&s&&Ft(this._after,s)}):(this._after&&s&&Ft(this._after,s),o)}beforeEach(t){return this._before=this._before||[],this._before.push(t),()=>{if(this._before!==void 0){const e=this._before.indexOf(t);e!==-1&&this._before.splice(e,1)}}}afterEach(t){return this._after=this._after||[],this._after.push(t),()=>{if(this._after!==void 0){const e=this._after.indexOf(t);e!==-1&&this._after.splice(e,1)}}}};function ur(){return new cr}const fr=["name","property","http-equiv"],hr=new Set(["viewport","description","keywords","robots"]);function Cs(t){const e=t.split(":");return e.length?ir.has(e[1]):!1}function sn(t){const{props:e,tag:n}=t;if(sr.has(n))return n;if(n==="link"&&e.rel==="canonical")return"canonical";const s=e.hreflang||e.type;if(n==="link"&&e.rel==="alternate"&&s)return`alternate:${s}`;if(e.charset)return"charset";if(t.tag==="meta"){for(const o of fr)if(e[o]!==void 0){const r=e[o],i=r&&typeof r=="string"&&r.includes(":"),a=r&&hr.has(r),c=!(i||a)&&t.key?`:key:${t.key}`:"";return`${n}:${r}${c}`}}if(t.key)return`${n}:key:${t.key}`;if(e.id)return`${n}:id:${e.id}`;if(tr.has(n)){const o=t.textContent||t.innerHTML;if(o)return`${n}:content:${o}`}}function Dn(t){const e=t._h||t._d;if(e)return e;const n=t.textContent||t.innerHTML;return n||`${t.tag}:${Object.entries(t.props).map(([s,o])=>`${s}:${String(o)}`).join(",")}`}function kt(t,e,n){typeof t==="function"&&(!n||n!=="titleTemplate"&&!(n[0]==="o"&&n[1]==="n"))&&(t=t());const o=e?e(n,t):t;if(Array.isArray(o))return o.map(r=>kt(r,e));if(o?.constructor===Object){const r={};for(const i of Object.keys(o))r[i]=kt(o[i],e,i);return r}return o}function dr(t,e){const n=t==="style"?new Map:new Set;function s(o){if(o==null||o===void 0)return;const r=String(o).trim();if(r)if(t==="style"){const[i,...a]=r.split(":").map(l=>l?l.trim():"");i&&a.length&&n.set(i,a.join(":"))}else r.split(" ").filter(Boolean).forEach(i=>n.add(i))}return typeof e=="string"?t==="style"?e.split(";").forEach(s):s(e):Array.isArray(e)?e.forEach(o=>s(o)):e&&typeof e=="object"&&Object.entries(e).forEach(([o,r])=>{r&&r!=="false"&&(t==="style"?n.set(String(o).trim(),String(r)):s(o))}),n}function $s(t,e){return t.props=t.props||{},e?t.tag==="templateParams"?(t.props=e,t):(Object.entries(e).forEach(([n,s])=>{if(s===null){t.props[n]=null;return}if(n==="class"||n==="style"){t.props[n]=dr(n,s);return}if(or.has(n)){if(["textContent","innerHTML"].includes(n)&&typeof s=="object"){let a=e.type;if(e.type||(a="application/json"),!a?.endsWith("json")&&a!=="speculationrules")return;e.type=a,t.props.type=a,t[n]=JSON.stringify(s)}else t[n]=s;return}const o=String(s),r=n.startsWith("data-"),i=t.tag==="meta"&&n==="content";o==="true"||o===""?t.props[n]=r||i?o:!0:!s&&r&&o==="false"?t.props[n]="false":s!==void 0&&(t.props[n]=s)}),t):t}function pr(t,e){const n=typeof e=="object"&&typeof e!="function"?e:{[t==="script"||t==="noscript"||t==="style"?"innerHTML":"textContent"]:e},s=$s({tag:t,props:{}},n);return s.key&&er.has(s.tag)&&(s.props["data-hid"]=s._h=s.key),s.tag==="script"&&typeof s.innerHTML=="object"&&(s.innerHTML=JSON.stringify(s.innerHTML),s.props.type=s.props.type||"application/json"),Array.isArray(s.props.content)?s.props.content.map(o=>({...s,props:{...s.props,content:o}})):s}function gr(t,e){if(!t)return[];typeof t=="function"&&(t=t());const n=(o,r)=>{for(let i=0;i<e.length;i++)r=e[i](o,r);return r};t=n(void 0,t);const s=[];return t=kt(t,n),Object.entries(t||{}).forEach(([o,r])=>{if(r!==void 0)for(const i of Array.isArray(r)?r:[r])s.push(pr(o,i))}),s.flat()}const jn=(t,e)=>t._w===e._w?t._p-e._p:t._w-e._w,Hn={base:-10,title:10},mr={critical:-8,high:-1,low:2},Bn={meta:{"content-security-policy":-30,charset:-20,viewport:-15},link:{preconnect:20,stylesheet:60,preload:70,modulepreload:70,prefetch:90,"dns-prefetch":90,prerender:90},script:{async:30,defer:80,sync:50},style:{imported:40,sync:60}},yr=/@import/,Ge=t=>t===""||t===!0;function vr(t,e){if(typeof e.tagPriority=="number")return e.tagPriority;let n=100;const s=mr[e.tagPriority]||0,o=t.resolvedOptions.disableCapoSorting?{link:{},script:{},style:{}}:Bn;if(e.tag in Hn)n=Hn[e.tag];else if(e.tag==="meta"){const r=e.props["http-equiv"]==="content-security-policy"?"content-security-policy":e.props.charset?"charset":e.props.name==="viewport"?"viewport":null;r&&(n=Bn.meta[r])}else if(e.tag==="link"&&e.props.rel)n=o.link[e.props.rel];else if(e.tag==="script"){const r=String(e.props.type);Ge(e.props.async)?n=o.script.async:e.props.src&&!Ge(e.props.defer)&&!Ge(e.props.async)&&r!=="module"&&!r.endsWith("json")||e.innerHTML&&!r.endsWith("json")?n=o.script.sync:(Ge(e.props.defer)&&e.props.src&&!Ge(e.props.async)||r==="module")&&(n=o.script.defer)}else e.tag==="style"&&(n=e.innerHTML&&yr.test(e.innerHTML)?o.style.imported:o.style.sync);return(n||100)+s}function Fn(t,e){const n=typeof e=="function"?e(t):e,s=n.key||String(t.plugins.size+1);t.plugins.get(s)||(t.plugins.set(s,n),t.hooks.addHooks(n.hooks||{}))}function wr(t={}){const e=ur();e.addHooks(t.hooks||{});const n=!t.document,s=new Map,o=new Map,r=new Set,i={_entryCount:1,plugins:o,dirty:!1,resolvedOptions:t,hooks:e,ssr:n,entries:s,headEntries(){return[...s.values()]},use:a=>Fn(i,a),push(a,l){const c={...l||{}};delete c.head;const f=c._index??i._entryCount++,d={_i:f,input:a,options:c},h={_poll(u=!1){i.dirty=!0,!u&&r.add(f),e.callHook("entries:updated",i)},dispose(){s.delete(f)&&i.invalidate()},patch(u){(!c.mode||c.mode==="server"&&n||c.mode==="client"&&!n)&&(d.input=u,s.set(f,d),h._poll())}};return h.patch(a),h},async resolveTags(){const a={tagMap:new Map,tags:[],entries:[...i.entries.values()]};for(await e.callHook("entries:resolve",a);r.size;){const h=r.values().next().value;r.delete(h);const u=s.get(h);if(u){const g={tags:gr(u.input,t.propResolvers||[]).map(p=>Object.assign(p,u.options)),entry:u};await e.callHook("entries:normalize",g),u._tags=g.tags.map((p,m)=>(p._w=vr(i,p),p._p=(u._i<<10)+m,p._d=sn(p),p))}}let l=!1;a.entries.flatMap(h=>(h._tags||[]).map(u=>({...u,props:{...u.props}}))).sort(jn).reduce((h,u)=>{const g=String(u._d||u._p);if(!h.has(g))return h.set(g,u);const p=h.get(g);if((u?.tagDuplicateStrategy||(rr.has(u.tag)?"merge":null)||(u.key&&u.key===p.key?"merge":null))==="merge"){const y={...p.props};Object.entries(u.props).forEach(([v,w])=>y[v]=v==="style"?new Map([...p.props.style||new Map,...w]):v==="class"?new Set([...p.props.class||new Set,...w]):w),h.set(g,{...u,props:y})}else u._p>>10===p._p>>10&&u.tag==="meta"&&Cs(g)?(h.set(g,Object.assign([...Array.isArray(p)?p:[p],u],u)),l=!0):(u._w===p._w?u._p>p._p:u?._w<p?._w)&&h.set(g,u);return h},a.tagMap);const c=a.tagMap.get("title"),f=a.tagMap.get("titleTemplate");if(i._title=c?.textContent,f){const h=f?.textContent;if(i._titleTemplate=h,h){let u=typeof h=="function"?h(c?.textContent):h;typeof u=="string"&&!i.plugins.has("template-params")&&(u=u.replace("%s",c?.textContent||"")),c?u===null?a.tagMap.delete("title"):a.tagMap.set("title",{...c,textContent:u}):(f.tag="title",f.textContent=u)}}a.tags=Array.from(a.tagMap.values()),l&&(a.tags=a.tags.flat().sort(jn)),await e.callHook("tags:beforeResolve",a),await e.callHook("tags:resolve",a),await e.callHook("tags:afterResolve",a);const d=[];for(const h of a.tags){const{innerHTML:u,tag:g,props:p}=h;if(nr.has(g)&&!(Object.keys(p).length===0&&!h.innerHTML&&!h.textContent)&&!(g==="meta"&&!p.content&&!p["http-equiv"]&&!p.charset)){if(g==="script"&&u){if(String(p.type).endsWith("json")){const m=typeof u=="string"?u:JSON.stringify(u);h.innerHTML=m.replace(/</g,"\\u003C")}else typeof u=="string"&&(h.innerHTML=u.replace(new RegExp(`</${g}`,"g"),`<\\/${g}`));h._d=sn(h)}d.push(h)}}return d},invalidate(){for(const a of s.values())r.add(a._i);i.dirty=!0,e.callHook("entries:updated",i)}};return(t?.plugins||[]).forEach(a=>Fn(i,a)),i.hooks.callHook("init",i),t.init?.forEach(a=>a&&i.push(a)),i}const br=(t,e)=>fo(e)?Xt(e):e,Rs="usehead";function kr(t){return{install(n){n.config.globalProperties.$unhead=t,n.config.globalProperties.$head=t,n.provide(Rs,t)}}.install}function _r(){if(ho()){const t=bs(Rs);if(t)return t}throw new Error("useHead() was called without provide context, ensure you call it through the setup() function.")}function Sr(t,e={}){const n=e.head||_r();return n.ssr?n.push(t||{},e):Mr(n,t,e)}function Mr(t,e,n={}){const s=T(!1);let o;return ze(()=>{const i=s.value?{}:kt(e,br);o?o.patch(i):o=t.push(i,n)}),ks()&&(po(()=>{o.dispose()}),go(()=>{s.value=!0}),mo(()=>{s.value=!1})),o}function on(t){if(t===!1||t==="false")return null;if(t==null||t===!0||t==="true")return"+1";if(typeof t=="string"&&"+-".includes(t[0]))return t;const e=+t;return Number.isNaN(e)?(console.error(`Invalid "at" prop value: ${t}`),null):e<=0?(console.warn(`[Slidev] "at" prop value must be greater than 0, but got ${t}, has been set to 1`),1):e}function Tr(t){return Array.isArray(t)?[on(t[0]),on(t[1])]:null}function xs(t,e=0,n){const s=T(!1);let o=new Map,r=new Map;const i={get current(){return tn(+t.value,e,i.total)},set current(a){t.value=s.value?tn(a,e,i.total):a},clicksStart:e,get relativeSizeMap(){return o},get maxMap(){return r},get isMounted(){return s.value},setup(){_s(()=>{s.value=!0,r=j(r),yo(t)||(i.current=t.value)}),vo(()=>{s.value=!1,o=new Map,r=new Map})},calculateSince(a,l=1){const c=on(a);if(c==null)return null;let f,d,h;if(typeof c=="string"){const u=i.currentOffset,g=+c;f=u+g,d=u+g+l-1,h=g+l-1}else f=c,d=c+l-1,h=0;return{start:f,end:+Number.POSITIVE_INFINITY,max:d,delta:h,currentOffset:k(()=>i.current-f),isCurrent:k(()=>i.current===f),isActive:k(()=>i.current>=f)}},calculateRange(a){const l=Tr(a);if(l==null)return null;const[c,f]=l;let d,h,u;return typeof c=="string"?(d=i.currentOffset+ +c,u=+c):(d=c,u=0),typeof f=="string"?(h=d+ +f,u+=+f):h=f,{start:d,end:h,max:h,delta:u,currentOffset:k(()=>i.current-d),isCurrent:k(()=>i.current===d),isActive:k(()=>d<=i.current&&i.current<h)}},calculate(a){return Array.isArray(a)?i.calculateRange(a):i.calculateSince(a)},register(a,l){if(!l)return;const{delta:c,max:f}=l;o.set(a,c),r.set(a,f)},unregister(a){o.delete(a),r.delete(a)},get currentOffset(){return Wo(...o.values())},get total(){return n??(s.value?Math.max(0,...r.values()):0)}};return i}function Or(t,e=0){const n=t?.meta.slide?.frontmatter.clicksStart??0,s=T(Math.max(Xt(e),n));return ee(()=>Xt(e),o=>{s.value=Math.max(o,n)}),xs(s,n,t?.meta?.clicks)}const Pr="modulepreload",Er=function(t){return"/presentation/gptoss-safetytax/"+t},zn={},P=function(e,n,s){let o=Promise.resolve();if(n&&n.length>0){let l=function(c){return Promise.all(c.map(f=>Promise.resolve(f).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),a=i?.nonce||i?.getAttribute("nonce");o=l(n.map(c=>{if(c=Er(c),c in zn)return;zn[c]=!0;const f=c.endsWith(".css"),d=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=f?"stylesheet":Pr,f||(h.as="script"),h.crossOrigin="",h.href=c,a&&h.setAttribute("nonce",a),document.head.appendChild(h),f)return new Promise((u,g)=>{h.addEventListener("load",u),h.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function r(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return o.then(i=>{for(const a of i||[])a.status==="rejected"&&r(a.reason);return e().catch(r)})},Lr=(t,e)=>{const n=t.__vccOpts||t;for(const[s,o]of e)n[s]=o;return n},Ar={},Cr={class:"px-4 py-10 text-center text-red-700 dark:text-red-500 font-bold font-mono"};function $r(t,e){return bt(),en("div",Cr,wo("Failed to fetch this slide. Please check your network connection."))}const H=Lr(Ar,[["render",$r]]),Rr={class:"h-full w-full flex items-center justify-center gap-2 slidev-slide-loading"},xr=Ss({__name:"SlideLoading",setup(t){const e=T(!1);return _s(()=>{setTimeout(()=>{e.value=!0},200)}),(n,s)=>(bt(),en("div",Rr,[e.value?(bt(),en(bo,{key:0},[s[0]||(s[0]=xn("div",{class:"i-svg-spinners-90-ring-with-bg text-xl"},null,-1)),s[1]||(s[1]=xn("div",null,"Loading slide...",-1))],64)):ko("v-if",!0)]))}}),Ir={theme:"seriph",background:"https://cover.sli.dev",title:"GPT-OSS & Safety Tax",info:`## GPT-OSS (20B, 120B) & the "Safety Tax"
Open-Source Reasoning Models and the Cost of Safety
`,class:"text-center",drawings:{persist:!1},transition:"slide-left",mdc:!0,duration:"35min"},he=L(Ir),Nr=j({get layout(){return he.layout},get transition(){return he.transition},get class(){return he.class},get clicks(){return he.clicks},get name(){return he.name},get preload(){return he.preload},slide:{content:"",revision:"-xgb5pa",frontmatterRaw:`theme: seriph
background: https://cover.sli.dev
title: GPT-OSS & Safety Tax
info: |
  ## GPT-OSS (20B, 120B) & the "Safety Tax"
  Open-Source Reasoning Models and the Cost of Safety
class: text-center
drawings:
  persist: false
transition: slide-left
mdc: true
duration: 35min
`,note:"",title:"GPT-OSS & Safety Tax",index:0,noteHTML:`<p>I'll first introduce GPT-OSS, OpenAI's new open-source reasoning models, covering their architecture, training, and performance. Then, we'll explore the &quot;Safety Tax,&quot; a study on the trade-off between a model's safety and its reasoning skills.</p>
`,raw:"",frontmatter:he,filepath:"",start:0,id:0,no:1},__clicksContext:null,__preloaded:!1}),Dr={transition:"fade-out"},de=L(Dr),jr=j({get layout(){return de.layout},get transition(){return de.transition},get class(){return de.class},get clicks(){return de.clicks},get name(){return de.name},get preload(){return de.preload},slide:{content:"",revision:"tlx50y",frontmatterRaw:`transition: fade-out
`,note:"",title:"Roadmap",level:1,index:1,noteHTML:`<p>We'll start by distinguishing LLMs from LRMs. Thenc over GPT-OSS's architecture and training, and review its performance on key benchmarks. We'll also look at third-party evaluations, deployment considerations, and safety measures before diving into the Safety Tax study.</p>
`,raw:"",frontmatter:de,filepath:"",start:33,id:1,no:2},__clicksContext:null,__preloaded:!1}),Hr={},pe=L(Hr),Br=j({get layout(){return pe.layout},get transition(){return pe.transition},get class(){return pe.class},get clicks(){return pe.clicks},get name(){return pe.name},get preload(){return pe.preload},slide:{content:"",revision:"-vemf3z",note:"",title:"LLM vs LRM (reasoning model)",level:1,index:2,noteHTML:`<p>First, let's distinguish between a standard Large Language Model (LLM) and a Large Reasoning Model (LRM). A typical LLM is pre-trained on vast amounts of text and then aligned for conversational chat. An LRM, however, goes a step further. After pre-training, it undergoes a special post-training phase using reinforcement learning to learn two key skills: chain-of-thought, which is breaking down problems step-by-step, and how to use external tools, like a Python interpreter.</p>
<p>The defining characteristic of an LRM is 'test-time scaling.' This means that giving the model more inference compute to generate a longer chain of thought improves its accuracy on difficult problems. The advantages are clear: LRMs excel at complex tasks like math and coding. However, this comes with trade-offs: longer outputs, higher latency, and more complex failure modes.</p>
<p>Let's look at the core specs of GPT-OSS.</p>
`,raw:"",frontmatter:pe,filepath:"",start:52,id:2,no:3},__clicksContext:null,__preloaded:!1}),Fr={},ge=L(Fr),zr=j({get layout(){return ge.layout},get transition(){return ge.transition},get class(){return ge.class},get clicks(){return ge.clicks},get name(){return ge.name},get preload(){return ge.preload},slide:{content:"",revision:"-lrqqju",note:"",title:"GPT-OSS model card (core specs)",level:1,index:3,noteHTML:`<p>Both models use a sparse MoE Transformer architecture. The 120B model has 117B total parameters across 128 experts, activating 5.1B per token. The 20B has 21B total parameters across 32 experts, with 3.6B active per token. This sparse design provides large-model knowledge at a small-model compute cost. Both support a 128k context window, the Harmony format, and configurable reasoning effort.</p>
`,raw:"",frontmatter:ge,filepath:"",start:97,id:3,no:4},__clicksContext:null,__preloaded:!1}),Vr={},me=L(Vr),qr=j({get layout(){return me.layout},get transition(){return me.transition},get class(){return me.class},get clicks(){return me.clicks},get name(){return me.name},get preload(){return me.preload},slide:{content:"",revision:"e4iavl",note:"",title:"Pre-training (data and compute)",level:1,index:4,noteHTML:`<p>Let's discuss pre-training. The models were trained on trillions of text tokens, focusing on STEM, coding, and general knowledge, with a knowledge cutoff of June 2024. For safety, the pre-training data was filtered using the same CBRN filters as GPT-4o.</p>
<p>A new open-source tokenizer, 'o200k_harmony', was used. It's a BPE tokenizer with over 200,000 tokens, extending the GPT-4o tokenizer for the Harmony chat format.</p>
<p>The models were trained on NVIDIA H100s using a modern stack of PyTorch, Triton, and FlashAttention. The 120B model took about 2.1 million H100-hours, while the 20B model required roughly ten times less compute, making it far more efficient.</p>
<p>After pre-training, the models undergo a post-training phase.</p>
`,raw:"",frontmatter:me,filepath:"",start:120,id:4,no:5},__clicksContext:null,__preloaded:!1}),Wr={},ye=L(Wr),Gr=j({get layout(){return ye.layout},get transition(){return ye.transition},get class(){return ye.class},get clicks(){return ye.clicks},get name(){return ye.name},get preload(){return ye.preload},slide:{content:"",revision:"axjsm5",note:"",title:"Post-training (reasoning and tools)",level:1,index:5,noteHTML:`<p>The post-training phase is what makes these models true reasoning models. OpenAI applied reinforcement learning, similar to their 'o-series' models, to teach step-by-step reasoning and planning. This also gives the models a ChatGPT-like personality.</p>
<p>A key feature is the 'effort knob,' allowing developers to set reasoning effort to low, medium, or high via a system prompt. Higher effort means a longer chain of thought and better accuracy.</p>
<p>The 'Harmony' chat format establishes a strict role hierarchy (System, Developer, User, Assistant, Tool) to resolve conflicting instructions. It also separates the output into 'analysis,' 'commentary,' and 'final' channels.</p>
<p>The models were also trained to use tools like web browsing, a Python interpreter, and developer functions. They have advanced agentic features, allowing them to interleave tool calls, present action plans, and handle multi-turn conversations.</p>
`,raw:"",frontmatter:ye,filepath:"",start:163,id:5,no:6},__clicksContext:null,__preloaded:!1}),Ur={},ve=L(Ur),Jr=j({get layout(){return ve.layout},get transition(){return ve.transition},get class(){return ve.class},get clicks(){return ve.clicks},get name(){return ve.name},get preload(){return ve.preload},slide:{content:"",revision:"-r4rnh8",note:"",title:"Evaluation: Main capabilities (AIME, GPQA, MMLU, HLE)",level:1,index:6,noteHTML:`<p>Now, let's look at how these models perform on main capability benchmarks, comparing them to OpenAI's proprietary o-series models.</p>
<p>The chart on the left focuses on math and science. On AIME 2024, a challenging math competition, the gpt-oss-120b with tools achieves 96.6% accuracy, nearly matching o3 and competitive with o4-mini. Remarkably, the 20B model, six times smaller in active parameters, scores an almost identical 96%.</p>
<p>On AIME 2025, the 120B model gets 97.9%, and the 20B model is slightly ahead at 98.7%. This shows that the scaling of these MoE models isn't always linear.</p>
<p>on GPQA Diamond, a benchmark of PhD-level science questions, the 120B model's 80.1% score is clearly ahead of the 20B's 71.5%, suggesting that extremelydifficult reasoning still benefits from a larger model.</p>
<p>The chart on the right shows two more benchmarks. HLE consists of expert-level questions so difficult that all models struggle. On MMLU, which tests broad, college-level knowledge, the 120B model achieves 90% accuracy, with the 20B not far behind at 85.3%.</p>
<p>The main takeaway is that the gpt-oss-120b is a strong performer, approaching o4-mini's capabilities, while the 20B model is a very competitive and efficient alternative.</p>
`,raw:"",frontmatter:ve,filepath:"",start:207,id:6,no:7},__clicksContext:null,__preloaded:!1}),Kr={},we=L(Kr),Qr=j({get layout(){return we.layout},get transition(){return we.transition},get class(){return we.class},get clicks(){return we.clicks},get name(){return we.name},get preload(){return we.preload},slide:{content:"",revision:"7k2czl",note:"",title:"Evaluation: Coding, tool use, and reasoning",level:1,index:7,noteHTML:`<p>Now let's turn to coding, tool use, and reasoning.</p>
<p>The top chart on the right shows three coding evaluations. On Codeforces, a competitive programming benchmark, the 120B model gets an Elo rating of 2463 without tools, and the 20B scores 2230. With a terminal, their scores jump dramatically to 2622 and 2516, respectively. This shows the models effectively use tools to write, test, and debug code.</p>
<p>Next is SWE-Bench Verified, which tests the ability to solve real-world GitHub issues. The 120B model resolves 62.4% of issues, and the 20B is close behind at 60.7%. These are state-of-the-art results for open-weight models.</p>
<p>The chart also shows function calling ability on Tau-Bench. On a retail task, the 120B model achieves 67.8% accuracy, while the 20B gets 54.8%, suggesting complex function use benefits from the larger model.</p>
<p>The bottom chart demonstrates 'test-time scaling.' On AIME 2025 and GPQA Diamond, as the chain of thought gets longer, accuracy steadily increases for both models. This is a key property: they can &quot;think harder&quot; to achieve better results.</p>
<p>Overall, their evaluation shows while the 120B model often leads, the 20B remains highly competitive and shows genuine reasoning capabilities.</p>
`,raw:"",frontmatter:we,filepath:"",start:244,id:7,no:8},__clicksContext:null,__preloaded:!1}),Yr={layout:"two-cols",layoutClass:"gap-4"},be=L(Yr),Zr=j({get layout(){return be.layout},get transition(){return be.transition},get class(){return be.class},get clicks(){return be.clicks},get name(){return be.name},get preload(){return be.preload},slide:{content:"",revision:"-qckmve",frontmatterRaw:`layout: two-cols
layoutClass: gap-4
`,note:"",title:"Third-party evaluation (Augâ€“Sep 2025)",level:1,index:8,noteHTML:`<p>There are also some independent evaluations that discuss something interesting. A recent arxiv paper provides one, using a standardized, unquantized setup that shows the models' raw capabilities. In their tests, the smaller gpt-oss-20B model outperformed the 120B on HumanEval (coding) and MMLU (general knowledge), and achieve similar on some tests. You can see this in the chart: the orange bars for the 20B are taller than the blue bars for the 120B.</p>
<p>This counterintuitive result suggests that for sparse MoE models, bigger isn't always better, and performance depends heavily on the evaluation setup. The study also noted weaker multilingual capabilities.</p>
`,raw:"",frontmatter:be,filepath:"",start:292,id:8,no:9},__clicksContext:null,__preloaded:!1}),Xr={},ke=L(Xr),ei=j({get layout(){return ke.layout},get transition(){return ke.transition},get class(){return ke.class},get clicks(){return ke.clicks},get name(){return ke.name},get preload(){return ke.preload},slide:{content:"",revision:"-zcqouf",note:"",title:"Deployment: Memory, throughput, and efficiency",level:1,index:9,noteHTML:`<p>Let's discuss the deployment. On modern GPUs, the 120B model needs about 80 GB of memory per device, while the 20B needs only 16 GB. This smaller footprint allowing for higher batch sizes and easier scaling.</p>
<p>In terms of speed, the 20B is faster, with a throughput of 178 tokens/second compared to 128 for the 120B on a 8 card vllm deployment.</p>
<p>From an efficiency standpoint, the 20B is the clear winner, using 2.6 times less energy per response for the same accuracy.</p>
<p>The GPT oss report also discussed their models use advanced techniques like grouped-query attention and rotary position embeddings to handle large context efficiently. A special 4-bit quantization format, MXFP4, is used on MoE weights, enabling these large models to run on current hardware.</p>
`,raw:"",frontmatter:ke,filepath:"",start:324,id:9,no:10},__clicksContext:null,__preloaded:!1}),ti={},_e=L(ti),ni=j({get layout(){return _e.layout},get transition(){return _e.transition},get class(){return _e.class},get clicks(){return _e.clicks},get name(){return _e.name},get preload(){return _e.preload},slide:{content:"",revision:"u5n1eb",note:"",title:"Safety testing and mitigation approach",level:1,index:10,noteHTML:`<p>The paper describes OpenAI's safety testing philosophy for open-weight models: testing should reflect how downstream actors can modify them, both for good and potentially malicious purposes.</p>
<p>They investigated three key questions. First, does the default model reach High capability in sensitive domains under their Preparedness Framework? The answer is no.</p>
<p>Second, could adversarial actors fine-tune it to reach High capability in Bio/Chem or Cyber domains? They simulated this internally with robust fine-tuning. The Safety Advisory Group reviewed this and concluded it still did not reach High capability.</p>
<p>Third, does releasing this model significantly advance the frontier compared to existing open models? They ran biology evaluations on other open models and found them already at or near gpt-oss-120b's level, so the release doesn't introduce significant new risk.</p>
<p>The default model uses deliberative alignment during post-training to refuse disallowed content, resist jailbreaks, and follow the instruction hierarchy. They evaluated it on standard safety benchmarks including disallowed content, jailbreaks, instruction hierarchy, hallucinations, and bias.</p>
<p>However, safety alignment does not come without costs. This brings us to the second major topic: the Safety Tax.</p>
`,raw:"",frontmatter:_e,filepath:"",start:369,id:10,no:11},__clicksContext:null,__preloaded:!1}),si={layout:"center",class:"text-center"},Se=L(si),oi=j({get layout(){return Se.layout},get transition(){return Se.transition},get class(){return Se.class},get clicks(){return Se.clicks},get name(){return Se.name},get preload(){return Se.preload},slide:{content:"",revision:"-n7butj",frontmatterRaw:`layout: center
class: text-center
`,note:"",title:"Safety Tax",level:1,index:11,noteHTML:"",raw:"",frontmatter:Se,filepath:"",start:401,id:11,no:12},__clicksContext:null,__preloaded:!1}),ri={},Me=L(ri),ii=j({get layout(){return Me.layout},get transition(){return Me.transition},get class(){return Me.class},get clicks(){return Me.clicks},get name(){return Me.name},get preload(){return Me.preload},slide:{content:"",revision:"-5hz2s8",note:"",title:"Safety Tax: safety alignment can reduce reasoning",level:1,index:12,noteHTML:`<p>This concept, from a recent paper, asks a critical question: can we make large reasoning models safer without harming their performance?</p>
<p>The paper's conclusion is that there's a direct trade-off. The authors found that safety alignment techniques, while effective at making models safer, consistently reduce reasoning accuracy on benchmarks like GPQA and AIME. They call this performance drop the &quot;Safety Tax.&quot;</p>
<p>The diagram illustrates this. You start with a base LLM with low &quot;IQ&quot; and low toxicity.</p>
<p>First, reasoning training boosts its IQ, making it a capable reasoning model, but also increases its toxicity. This is a known issue.</p>
<p>Second, safety alignment. Developers can choose 'DirectRefusal,' which trains the model on short, immediate refusals, or 'SafeChain,' which uses longer chains of thought where the model reasons about why a request is harmful before refusing.</p>
<p>Both paths lead to a safer model, but in both cases, the final &quot;IQ&quot; is lower than the unaligned reasoning model. This is the safety tax: both methods improve safety at the cost of reasoning capability.</p>
<p>So, how did the researchers actually measure this? Let's look at their methodology.</p>
`,raw:"",frontmatter:Me,filepath:"",start:411,id:12,no:13},__clicksContext:null,__preloaded:!1}),ai={},Te=L(ai),li=j({get layout(){return Te.layout},get transition(){return Te.transition},get class(){return Te.class},get clicks(){return Te.clicks},get name(){return Te.name},get preload(){return Te.preload},slide:{content:"",revision:"-bl8kp1",note:"",title:"Safety Tax: methodology (what they did)",level:1,index:13,noteHTML:`<p>Let's look at the methodology of the Safety Tax study. The researchers used a two-stage pipeline that mirrors common LRM development: first reasoning training, then safety alignment.</p>
<p>They primarily used a 32B parameter model, s1.1-32B, and validated their results on two other 32B models, DeepSeek-R1 and LIMO-32B, to ensure their findings were robust.</p>
<p>They tested two safety alignment strategies. 'DirectRefusal' uses data with a short chain-of-thought and an immediate refusal. 'SafeChain' uses data with a longer chain-of-thought where the model reasons about why a request is harmful before refusing.</p>
<p>The training was done with supervised fine-tuning (SFT) for 5 epochs on about 1,000 safety examples for each strategy.</p>
<p>To measure the trade-off, they tracked reasoning accuracy on AIME and GPQA, and a 'Harmful score' from the BeaverTails moderation model.</p>
`,raw:"",frontmatter:Te,filepath:"",start:447,id:13,no:14},__clicksContext:null,__preloaded:!1}),ci={},Oe=L(ci),ui=j({get layout(){return Oe.layout},get transition(){return Oe.transition},get class(){return Oe.class},get clicks(){return Oe.clicks},get name(){return Oe.name},get preload(){return Oe.preload},slide:{content:"",revision:"yz4a4o",note:"",title:"Safety Tax: key results and overheads",level:1,index:14,noteHTML:`<p>Now, let's look at the results, which clearly show the safety tax. The chart on the right is the key evidence, showing what happens to the model's harmful score and reasoning accuracy over five epochs of safety alignment.</p>
<p>The left graph tracks the harmful score. The initial reasoning model starts around 60. With 'DirectRefusal' (red dashed line), the score plummets, representing a nearly 60% reduction in harmful outputs. This method is highly effective at improving safety.</p>
<p>'SafeChain' (teal solid line) also reduces the harmful score, but more gradually, by about 30%. So, while both work, DirectRefusal is more aggressive.</p>
<p>But here's the catch. The right graph shows reasoning accuracy on GPQA. The initial model starts at about 60% accuracy. As safety alignment proceeds, both lines trend down. DirectRefusal causes a steep 23% loss in reasoning accuracy. The gentler SafeChain still causes a 7% loss.</p>
<p>This is the safety tax visualized. DirectRefusal buys more safety at a higher reasoning cost. SafeChain preserves more reasoning but is less effective at improving safety. There's no free lunch.</p>
<p>The researchers found this trade-off holds for the other models they tested, confirming it's a general phenomenon.</p>
`,raw:"",frontmatter:Oe,filepath:"",start:475,id:14,no:15},__clicksContext:null,__preloaded:!1}),fi={layout:"center",class:"text-center"},Pe=L(fi),hi=j({get layout(){return Pe.layout},get transition(){return Pe.transition},get class(){return Pe.class},get clicks(){return Pe.clicks},get name(){return Pe.name},get preload(){return Pe.preload},slide:{content:"",revision:"p2t7dk",frontmatterRaw:`layout: center
class: text-center
`,note:"",title:"References",level:1,index:15,noteHTML:`<p>These are my sources. The GPT-OSS model card provides technical details, training setup, and safety results. The launch post gives the summary table and context figure. The third-party paper by Bi et al. is the independent check for MMLU and HumanEval. The Safety Tax paper supplies the method, tables, and main trade-off result.</p>
`,raw:"",frontmatter:Pe,filepath:"",start:521,id:15,no:16},__clicksContext:null,__preloaded:!1}),di={layout:"center",class:"text-center"},Ee=L(di),pi=j({get layout(){return Ee.layout},get transition(){return Ee.transition},get class(){return Ee.class},get clicks(){return Ee.clicks},get name(){return Ee.name},get preload(){return Ee.preload},slide:{content:"",revision:"-z6l004",frontmatterRaw:`layout: center
class: text-center
`,note:"",title:"Thank You",level:1,index:16,noteHTML:"",raw:"",frontmatter:Ee,filepath:"",start:548,id:16,no:17},__clicksContext:null,__preloaded:!1}),q=new Array(17),F=(t,e)=>_o({loader:e,delay:300,loadingComponent:xr,errorComponent:H,onError:n=>console.error("Failed to load slide "+(t+1),n)}),Vn=async()=>{try{return q[0]??=await P(()=>import("./slidev/md-CA04kQdO.js"),__vite__mapDeps([0,1,2,3,4]))}catch(t){return console.error("slide failed to load",t),H}},qn=async()=>{try{return q[1]??=await P(()=>import("./md-TLiO_OmO.js"),__vite__mapDeps([5,1,6,2,3,4]))}catch(t){return console.error("slide failed to load",t),H}},Wn=async()=>{try{return q[2]??=await P(()=>import("./md-CzFHpWpi.js"),__vite__mapDeps([7,1,6,2,3,4]))}catch(t){return console.error("slide failed to load",t),H}},Gn=async()=>{try{return q[3]??=await P(()=>import("./md-BqaIrDUI.js"),__vite__mapDeps([8,1,6,2,3,4]))}catch(t){return console.error("slide failed to load",t),H}},Un=async()=>{try{return q[4]??=await P(()=>import("./md-CpYGPXNJ.js"),__vite__mapDeps([9,1,6,2,3,4]))}catch(t){return console.error("slide failed to load",t),H}},Jn=async()=>{try{return q[5]??=await P(()=>import("./md-CF5GU99D.js"),__vite__mapDeps([10,1,6,2,3,4]))}catch(t){return console.error("slide failed to load",t),H}},Kn=async()=>{try{return q[6]??=await P(()=>import("./md-ZiCU5NK2.js"),__vite__mapDeps([11,1,6,2,3,4]))}catch(t){return console.error("slide failed to load",t),H}},Qn=async()=>{try{return q[7]??=await P(()=>import("./md-BgVmTYw1.js"),__vite__mapDeps([12,1,6,2,3,4]))}catch(t){return console.error("slide failed to load",t),H}},Yn=async()=>{try{return q[8]??=await P(()=>import("./md-DaRzQGzI.js"),__vite__mapDeps([13,1,2,3,4]))}catch(t){return console.error("slide failed to load",t),H}},Zn=async()=>{try{return q[9]??=await P(()=>import("./md-DYFsQwSv.js"),__vite__mapDeps([14,1,6,2,3,4]))}catch(t){return console.error("slide failed to load",t),H}},Xn=async()=>{try{return q[10]??=await P(()=>import("./md-xi10FVO8.js"),__vite__mapDeps([15,1,6,2,3,4]))}catch(t){return console.error("slide failed to load",t),H}},es=async()=>{try{return q[11]??=await P(()=>import("./md-imdbGzCG.js"),__vite__mapDeps([16,1,17,2,3,4]))}catch(t){return console.error("slide failed to load",t),H}},ts=async()=>{try{return q[12]??=await P(()=>import("./md-BWA9fPWR.js"),__vite__mapDeps([18,1,6,2,3,4]))}catch(t){return console.error("slide failed to load",t),H}},ns=async()=>{try{return q[13]??=await P(()=>import("./md-BYLLmlp6.js"),__vite__mapDeps([19,1,6,2,3,4]))}catch(t){return console.error("slide failed to load",t),H}},ss=async()=>{try{return q[14]??=await P(()=>import("./md-DddCzaiK.js"),__vite__mapDeps([20,1,6,2,3,4]))}catch(t){return console.error("slide failed to load",t),H}},os=async()=>{try{return q[15]??=await P(()=>import("./md-DBwFvr9Y.js"),__vite__mapDeps([21,1,17,2,3,4]))}catch(t){return console.error("slide failed to load",t),H}},rs=async()=>{try{return q[16]??=await P(()=>import("./md-CNTyfQyO.js"),__vite__mapDeps([22,1,17,2,3,4]))}catch(t){return console.error("slide failed to load",t),H}},gi=[{no:1,meta:Nr,load:Vn,component:F(0,Vn)},{no:2,meta:jr,load:qn,component:F(1,qn)},{no:3,meta:Br,load:Wn,component:F(2,Wn)},{no:4,meta:zr,load:Gn,component:F(3,Gn)},{no:5,meta:qr,load:Un,component:F(4,Un)},{no:6,meta:Gr,load:Jn,component:F(5,Jn)},{no:7,meta:Jr,load:Kn,component:F(6,Kn)},{no:8,meta:Qr,load:Qn,component:F(7,Qn)},{no:9,meta:Zr,load:Yn,component:F(8,Yn)},{no:10,meta:ei,load:Zn,component:F(9,Zn)},{no:11,meta:ni,load:Xn,component:F(10,Xn)},{no:12,meta:oi,load:es,component:F(11,es)},{no:13,meta:ii,load:ts,component:F(12,ts)},{no:14,meta:li,load:ns,component:F(13,ns)},{no:15,meta:ui,load:ss,component:F(14,ss)},{no:16,meta:hi,load:os,component:F(15,os)},{no:17,meta:pi,load:rs,component:F(16,rs)}],se=yn(gi);function _l(t){if(typeof t=="number")return{seconds:t,relative:!1};const e=t.startsWith("+");e&&(t=t.slice(1));let n=0;if(t.includes(":")){const s=t.split(":").map(Number);let o=0,r=0,i=0;if(s.length===3)o=s[0],r=s[1],i=s[2];else if(s.length===2)r=s[0],i=s[1];else if(s.length===1)i=s[0];else throw new TypeError("Invalid timestamp format");if(Number.isNaN(o)||Number.isNaN(r)||Number.isNaN(i))throw new TypeError("Invalid timestamp format");n=(o||0)*3600+(r||0)*60+(i||0)}else if(!t.match(/[a-z]/i))n=Number(t);else{const s={s:1,sec:1,secs:1,m:60,min:60,mins:60,h:3600,hr:3600,hrs:3600,hour:3600,hours:3600,day:86400,days:86400,week:604800,weeks:604800,month:2629746,months:2629746,year:31556952,years:31556952},o=/([\d.]+)([a-z]+)/gi,r=t.matchAll(o);if(r)for(const a of r){const l=Number(a[1]);if(Number.isNaN(l))throw new TypeError(`Invalid timestamp value: ${a[1]}`);const c=a[2].toLowerCase();if(!(c in s))throw new TypeError(`Invalid timestamp unit: ${c}`);n+=l*s[c]}const i=t.replace(o,"").trim();if(i)throw new TypeError(`Unknown timestamp remaining: ${i}`)}return{seconds:n,relative:e}}function mi(t,e){if(!e||e==="all"||e==="*")return In(1,t+1);if(e==="none")return[];const n=[];for(const s of e.split(/[,;]/g))if(!s.includes("-"))n.push(+s);else{const[o,r]=s.split("-",2);n.push(...In(+o,r?+r+1:t+1))}return Jo(n).filter(s=>s<=t).sort((s,o)=>s-o)}const $t="$$slidev-clicks-context",vn="$$slidev-page",Is="$$slidev-slide-element",yi="$$slidev-slide-scale",vi="$$slidev-context",Sl="$$slidev-route",wn="$$slidev-render-context",wi="$$slidev-fontmatter",bi="$$slidev-slide-zoom",dt="slidev-vclick-target",Ue="slidev-vclick-hidden",Je="slidev-vclick-fade",zt="slidev-vclick-hidden-explicitly",Vt="slidev-vclick-current",qt="slidev-vclick-prior",pt=999999,ki=["localhost","127.0.0.1"],_i=["clicks","clicksStart","disabled","hide","hideInToc","layout","level","preload","routeAlias","src","title","transition","zoom","dragPos","lang"],Ml=[..._i,"theme","titleTemplate","info","author","keywords","presenter","browserExporter","download","exportFilename","export","highlighter","lineNumbers","monaco","monacoTypesSource","monacoTypesAdditionalPackages","monacoRunAdditionalDeps","monacoRunUseStrict","remoteAssets","selectable","record","colorSchema","routerMode","aspectRatio","canvasWidth","themeConfig","favicon","plantUmlServer","fonts","defaults","drawings","htmlAttrs","mdc","contextMenu","wakeLock","seoMeta","notesAutoRuby","magicMoveDuration","preloadImages"];function Si(t,e,{mode:n="replace"}={}){const s=At();return k({get(){const o=s.currentRoute.value.query[t];return o==null?e:Array.isArray(o)?o.filter(Boolean):o},set(o){So(()=>{(s.currentRoute.value.query[t]??e?.toString())!==o.toString()&&s[Mo(n)]({query:{...s.currentRoute.value.query,[t]:`${o}`===e?void 0:o}})})}})}function Rt(t){return se.value.find(e=>e.no===+t||e.meta.slide?.frontmatter.routeAlias===t)}function je(t,e,n=!1){(typeof t=="number"||typeof t=="string")&&(t=Rt(t));const s=t.meta.slide?.frontmatter.routeAlias??t.no;return n?`/export/${s}`:e?`/presenter/${s}`:`/${s}`}const Mi={"slide-left":"slide-left | slide-right","slide-right":"slide-right | slide-left","slide-up":"slide-up | slide-down","slide-down":"slide-down | slide-up"};function Ti(t,e=!1){if(!t||(typeof t=="string"&&(t={name:t}),!t.name))return;let n=t.name.includes("|")?t.name:Mi[t.name]||t.name;if(n.includes("|")){const[s,o]=n.split("|").map(r=>r.trim());n=e?o:s}if(n)return{...t,name:n}}function Oi(t,e,n){let s=t>0?n?.meta?.transition:e?.meta?.transition;return s||(s=R.transition||void 0),Ti(s,t<0)}const Tl=T(!1),Ol=T(!1),Pl=T(!1),Pi=T(!1),bn=T(!1),El=T(!1),Ll=T(!0),Ei=L(new Set),Al=k(()=>Ei.size>0),Cl=Po({xs:460,...Lo}),_t=Ao(),$l=To(),Rl=k(()=>_t.height.value-_t.width.value/Ps.value>120),xl=Oo(Ct?document.body:null),Ns=Eo(),Il=k(()=>["INPUT","TEXTAREA"].includes(Ns.value?.tagName||"")),Nl=k(()=>["BUTTON","A"].includes(Ns.value?.tagName||""));V("slidev-camera","default",{listenToStorageChanges:!1});V("slidev-mic","default",{listenToStorageChanges:!1});const Li=V("slidev-scale",0),Dl=V("slidev-wake-lock",!0),jl=V("slidev-hide-cursor-idle",!0);V("slidev-skip-export-pdf-tip",!1);V("slidev-export-capture-delay",400,{listenToStorageChanges:!1});const Hl=V("slidev-presenter-cursor",!0,{listenToStorageChanges:!1}),Ai=V("slidev-show-editor",!1,{listenToStorageChanges:!1}),Ci=V("slidev-editor-vertical",!1,{listenToStorageChanges:!1}),$i=V("slidev-editor-width",Ct?window.innerWidth*.4:318,{listenToStorageChanges:!1}),Ri=V("slidev-editor-height",Ct?window.innerHeight*.4:300,{listenToStorageChanges:!1}),rt=yn(null),St=V("slidev-presenter-font-size",1,{listenToStorageChanges:!1}),it=V("slidev-presenter-layout",1,{listenToStorageChanges:!1}),rn={invert:!1,contrast:1,brightness:1,hueRotate:0,saturate:1,sepia:0},xi=V("slidev-viewer-css-filter",rn,{listenToStorageChanges:!1,mergeDefaults:!0,deep:!0}),Bl=k(()=>Object.keys(rn).some(t=>xi.value[t]!==rn[t]));function Fl(){it.value=it.value+1,it.value>3&&(it.value=1)}function zl(){St.value=Math.min(2,St.value+.1)}function Vl(){St.value=Math.max(.5,St.value-.1)}const ql=Ms(Pi),at=V("slidev-sync-directions",{viewerSend:!0,viewerReceive:!0,presenterSend:!0,presenterReceive:!0},{listenToStorageChanges:!1,mergeDefaults:!0});function Ds(t,e,n=1){const s=e.meta.slide.level??n;s&&s>n&&t.length>0?Ds(t[t.length-1].children,e,n+1):t.push({no:e.no,children:[],level:n,titleLevel:s,path:je(e.meta.slide?.frontmatter?.routeAlias??e.no,!1),hideInToc:!!e.meta?.slide?.frontmatter?.hideInToc,title:e.meta?.slide?.title})}function js(t,e,n=!1,s,o){return t.map(r=>{const i={...r,active:r.no===o?.value,hasActiveParent:n};return i.children.length>0&&(i.children=js(i.children,e,i.active||i.hasActiveParent,i,o)),s&&(i.active||i.activeParent)&&(s.activeParent=!0),i})}function Hs(t,e=1){return t.filter(n=>!n.hideInToc).map(n=>({...n,children:Hs(n.children,e+1)}))}function Ii(t,e,n){const s=k(()=>t.value.filter(r=>r.meta?.slide?.title).reduce((r,i)=>(Ds(r,i),r),[])),o=k(()=>js(s.value,n.value,void 0,void 0,e));return k(()=>Hs(o.value))}function Ni(t,e,n=T(0),s,o,r){const i=k(()=>se.value.length),a=T(0),l=T(0),c=k(()=>je(t.value,s.value)),f=k(()=>t.value.no),d=k(()=>t.value.meta?.layout||(f.value===1?"cover":"default")),h=k(()=>e.value.current),u=k(()=>e.value.clicksStart),g=k(()=>e.value.total),p=k(()=>se.value[Math.min(se.value.length,f.value+1)-1]),m=k(()=>se.value[Math.max(1,f.value-1)-1]),y=k(()=>f.value<se.value.length||h.value<g.value),v=k(()=>f.value>1||h.value>0),w=k(()=>o.value?void 0:Oi(a.value,t.value,m.value));ee(t,(I,C)=>{a.value=I.no-C.no});async function b(I){return!1}const _=Ii(se,f,t);async function O(){l.value=1,g.value<=n.value?await D():n.value+=1}async function A(){l.value=-1,n.value<=u.value?await G(!0):n.value-=1}async function D(I=!1){l.value=1,f.value<se.value.length&&await M(f.value+1,I&&!o.value?pt:void 0)}async function G(I=!1){l.value=-1,f.value>1&&await M(f.value-1,I&&!o.value?pt:void 0)}function le(){return M(1)}function Z(){return M(i.value)}async function M(I,C=0,ie=!1){bn.value=!1;const ce=f.value!==I,We=C!==n.value,K=Rt(I)?.meta,x=K?.slide?.frontmatter.clicksStart??0;C=tn(C,x,K?.__clicksContext?.total??pt),(ie||ce||We)&&await r?.push({path:je(I,s.value,r.currentRoute.value.name==="export"),query:{...r.currentRoute.value.query,clicks:C===0?void 0:C.toString(),embedded:location.search.includes("embedded")?"true":void 0}})}function E(){r?.push({path:je(f.value,!0),query:{...r.currentRoute.value.query}})}function B(){r?.push({path:je(f.value,!1),query:{...r.currentRoute.value.query}})}return{slides:se,total:i,currentPath:c,currentSlideNo:f,currentPage:f,currentSlideRoute:t,currentLayout:d,currentTransition:w,clicksDirection:l,nextRoute:p,prevRoute:m,clicksContext:e,clicks:h,clicksStart:u,clicksTotal:g,hasNext:y,hasPrev:v,tocTree:_,navDirection:a,openInEditor:b,next:O,prev:A,go:M,goLast:Z,goFirst:le,nextSlide:D,prevSlide:G,enterPresenter:E,exitPresenter:B}}const Di=Ts(()=>{const t=At(),e=Co(),n=k(()=>(t?.currentRoute?.value?.query,new URLSearchParams(location.search))),s=k(()=>n.value.has("print")||e.name==="export"),o=T(n.value.get("print")==="clicks"),r=k(()=>n.value.has("embedded")),i=k(()=>e.name==="play"),a=k(()=>e.name==="presenter"),l=k(()=>e.name==="notes"),c=k(()=>!a.value&&(!R.remote||n.value.get("password")===R.remote)),f=k(()=>!!e.params.no),d=k(()=>f.value?Rt(e.params.no)?.no??1:1),h=k(()=>se.value[d.value-1]),u=T(mi(se.value.length,e?.query?.range)),g=Si("clicks","0"),p=k(()=>y(h.value)),m=k({get(){let v=+(g.value||0);return Number.isNaN(v)&&(v=0),v},set(v){bn.value=!1,g.value=v.toString()}});function y(v){if(v?.meta?.__clicksContext)return v.meta.__clicksContext;const w=v.no,b=xs(k({get(){return d.value===w?Math.max(+(g.value??0),b.clicksStart):d.value>w?pt:b.clicksStart},set(_){d.value===w&&(g.value=_.toString())}}),v?.meta.slide?.frontmatter.clicksStart??0,v?.meta.clicks);return v?.meta&&(v.meta.__clicksContext=b),b}return{router:t,currentRoute:k(()=>e),isPrintMode:s,isPrintWithClicks:o,isEmbedded:r,isPlaying:i,isPresenter:a,isNotesViewer:l,isPresenterAvailable:c,hasPrimarySlide:f,currentSlideNo:d,currentSlideRoute:h,clicksContext:p,queryClicksRaw:g,queryClicks:m,printRange:u,getPrimaryClicks:y}}),qe=Ts(()=>{const t=Di(),e=At(),n=Ni(t.currentSlideRoute,t.clicksContext,t.queryClicks,t.isPresenter,t.isPrintMode,e);return ee([n.total,t.currentRoute],async()=>{const s=t.currentRoute.value.params.no;t.hasPrimarySlide.value&&!Rt(s)&&(s&&s!=="index.html"?await n.go(n.total.value,0,!0):await n.go(1,0,!0))},{flush:"pre",immediate:!0}),{...n,...t}}),is=$o(),Wt=V("slidev-color-schema","auto"),as=k(()=>R.colorSchema!=="auto"),Bs=k({get(){return as.value?R.colorSchema==="dark":Wt.value==="auto"?is.value:Wt.value==="dark"},set(t){as.value||(Wt.value=t===is.value?"auto":t?"dark":"light")}}),Wl=Ms(Bs);if(Ct){const t="*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";ee(Bs,e=>{const n=window.document.createElement("style");n.appendChild(document.createTextNode(t)),window.document.head.appendChild(n);const s=document.querySelector("html");s.classList.toggle("dark",e),s.classList.toggle("light",!e),window.getComputedStyle(n).opacity,document.head.removeChild(n)},{immediate:!0})}function ji(){const{isPrintMode:t}=qe();Ro(k(()=>t.value?`
@page {
  size: ${Es.value}px ${Yo.value}px;
  margin: 0px;
}

* {
  transition: none !important;
  transition-duration: 0s !important;
}`:""))}const kn=Symbol.for("yaml.alias"),Hi=Symbol.for("yaml.document"),$e=Symbol.for("yaml.map"),Fs=Symbol.for("yaml.pair"),_n=Symbol.for("yaml.scalar"),nt=Symbol.for("yaml.seq"),re=Symbol.for("yaml.node.type"),Re=t=>!!t&&typeof t=="object"&&t[re]===kn,xt=t=>!!t&&typeof t=="object"&&t[re]===Hi,zs=t=>!!t&&typeof t=="object"&&t[re]===$e,z=t=>!!t&&typeof t=="object"&&t[re]===Fs,N=t=>!!t&&typeof t=="object"&&t[re]===_n,Sn=t=>!!t&&typeof t=="object"&&t[re]===nt;function Y(t){if(t&&typeof t=="object")switch(t[re]){case $e:case nt:return!0}return!1}function W(t){if(t&&typeof t=="object")switch(t[re]){case kn:case $e:case _n:case nt:return!0}return!1}const Vs=t=>(N(t)||Y(t))&&!!t.anchor,Le=Symbol("break visit"),Bi=Symbol("skip children"),Ze=Symbol("remove node");function It(t,e){const n=Fi(e);xt(t)?He(null,t.contents,n,Object.freeze([t]))===Ze&&(t.contents=null):He(null,t,n,Object.freeze([]))}It.BREAK=Le;It.SKIP=Bi;It.REMOVE=Ze;function He(t,e,n,s){const o=zi(t,e,n,s);if(W(o)||z(o))return Vi(t,s,o),He(t,o,n,s);if(typeof o!="symbol"){if(Y(e)){s=Object.freeze(s.concat(e));for(let r=0;r<e.items.length;++r){const i=He(r,e.items[r],n,s);if(typeof i=="number")r=i-1;else{if(i===Le)return Le;i===Ze&&(e.items.splice(r,1),r-=1)}}}else if(z(e)){s=Object.freeze(s.concat(e));const r=He("key",e.key,n,s);if(r===Le)return Le;r===Ze&&(e.key=null);const i=He("value",e.value,n,s);if(i===Le)return Le;i===Ze&&(e.value=null)}}return o}function Fi(t){return typeof t=="object"&&(t.Collection||t.Node||t.Value)?Object.assign({Alias:t.Node,Map:t.Node,Scalar:t.Node,Seq:t.Node},t.Value&&{Map:t.Value,Scalar:t.Value,Seq:t.Value},t.Collection&&{Map:t.Collection,Seq:t.Collection},t):t}function zi(t,e,n,s){if(typeof n=="function")return n(t,e,s);if(zs(e))return n.Map?.(t,e,s);if(Sn(e))return n.Seq?.(t,e,s);if(z(e))return n.Pair?.(t,e,s);if(N(e))return n.Scalar?.(t,e,s);if(Re(e))return n.Alias?.(t,e,s)}function Vi(t,e,n){const s=e[e.length-1];if(Y(s))s.items[t]=n;else if(z(s))t==="key"?s.key=n:s.value=n;else if(xt(s))s.contents=n;else{const o=Re(s)?"alias":"scalar";throw new Error(`Cannot replace node with ${o} parent`)}}function qs(t){if(/[\x00-\x19\s,[\]{}]/.test(t)){const n=`Anchor must not contain whitespace or control characters: ${JSON.stringify(t)}`;throw new Error(n)}return!0}function Ye(t,e,n,s){if(s&&typeof s=="object")if(Array.isArray(s))for(let o=0,r=s.length;o<r;++o){const i=s[o],a=Ye(t,s,String(o),i);a===void 0?delete s[o]:a!==i&&(s[o]=a)}else if(s instanceof Map)for(const o of Array.from(s.keys())){const r=s.get(o),i=Ye(t,s,o,r);i===void 0?s.delete(o):i!==r&&s.set(o,i)}else if(s instanceof Set)for(const o of Array.from(s)){const r=Ye(t,s,o,o);r===void 0?s.delete(o):r!==o&&(s.delete(o),s.add(r))}else for(const[o,r]of Object.entries(s)){const i=Ye(t,s,o,r);i===void 0?delete s[o]:i!==r&&(s[o]=i)}return t.call(e,n,s)}function oe(t,e,n){if(Array.isArray(t))return t.map((s,o)=>oe(s,String(o),n));if(t&&typeof t.toJSON=="function"){if(!n||!Vs(t))return t.toJSON(e,n);const s={aliasCount:0,count:1,res:void 0};n.anchors.set(t,s),n.onCreate=r=>{s.res=r,delete n.onCreate};const o=t.toJSON(e,n);return n.onCreate&&n.onCreate(o),o}return typeof t=="bigint"&&!n?.keep?Number(t):t}class Mn{constructor(e){Object.defineProperty(this,re,{value:e})}clone(){const e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}toJS(e,{mapAsMap:n,maxAliasCount:s,onAnchor:o,reviver:r}={}){if(!xt(e))throw new TypeError("A document argument is required");const i={anchors:new Map,doc:e,keep:!0,mapAsMap:n===!0,mapKeyWarned:!1,maxAliasCount:typeof s=="number"?s:100},a=oe(this,"",i);if(typeof o=="function")for(const{count:l,res:c}of i.anchors.values())o(c,l);return typeof r=="function"?Ye(r,{"":a},"",a):a}}class qi extends Mn{constructor(e){super(kn),this.source=e,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(e,n){let s;n?.aliasResolveCache?s=n.aliasResolveCache:(s=[],It(e,{Node:(r,i)=>{(Re(i)||Vs(i))&&s.push(i)}}),n&&(n.aliasResolveCache=s));let o;for(const r of s){if(r===this)break;r.anchor===this.source&&(o=r)}return o}toJSON(e,n){if(!n)return{source:this.source};const{anchors:s,doc:o,maxAliasCount:r}=n,i=this.resolve(o,n);if(!i){const l=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(l)}let a=s.get(i);if(a||(oe(i,null,n),a=s.get(i)),a?.res===void 0){const l="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(l)}if(r>=0&&(a.count+=1,a.aliasCount===0&&(a.aliasCount=gt(o,i,s)),a.count*a.aliasCount>r)){const l="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(l)}return a.res}toString(e,n,s){const o=`*${this.source}`;if(e){if(qs(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source)){const r=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(r)}if(e.implicitKey)return`${o} `}return o}}function gt(t,e,n){if(Re(e)){const s=e.resolve(t),o=n&&s&&n.get(s);return o?o.count*o.aliasCount:0}else if(Y(e)){let s=0;for(const o of e.items){const r=gt(t,o,n);r>s&&(s=r)}return s}else if(z(e)){const s=gt(t,e.key,n),o=gt(t,e.value,n);return Math.max(s,o)}return 1}const Ws=t=>!t||typeof t!="function"&&typeof t!="object";class $ extends Mn{constructor(e){super(_n),this.value=e}toJSON(e,n){return n?.keep?this.value:oe(this.value,e,n)}toString(){return String(this.value)}}$.BLOCK_FOLDED="BLOCK_FOLDED";$.BLOCK_LITERAL="BLOCK_LITERAL";$.PLAIN="PLAIN";$.QUOTE_DOUBLE="QUOTE_DOUBLE";$.QUOTE_SINGLE="QUOTE_SINGLE";function Wi(t,e,n){return n.find(s=>s.identify?.(t)&&!s.format)}function Mt(t,e,n){if(xt(t)&&(t=t.contents),W(t))return t;if(z(t)){const d=n.schema[$e].createNode?.(n.schema,null,n);return d.items.push(t),d}(t instanceof String||t instanceof Number||t instanceof Boolean||typeof BigInt<"u"&&t instanceof BigInt)&&(t=t.valueOf());const{aliasDuplicateObjects:s,onAnchor:o,onTagObj:r,schema:i,sourceObjects:a}=n;let l;if(s&&t&&typeof t=="object"){if(l=a.get(t),l)return l.anchor??(l.anchor=o(t)),new qi(l.anchor);l={anchor:null,node:null},a.set(t,l)}let c=Wi(t,e,i.tags);if(!c){if(t&&typeof t.toJSON=="function"&&(t=t.toJSON()),!t||typeof t!="object"){const d=new $(t);return l&&(l.node=d),d}c=t instanceof Map?i[$e]:Symbol.iterator in Object(t)?i[nt]:i[$e]}r&&(r(c),delete n.onTagObj);const f=c?.createNode?c.createNode(n.schema,t,n):typeof c?.nodeClass?.from=="function"?c.nodeClass.from(n.schema,t,n):new $(t);return c.default||(f.tag=c.tag),l&&(l.node=f),f}function ls(t,e,n){let s=n;for(let o=e.length-1;o>=0;--o){const r=e[o];if(typeof r=="number"&&Number.isInteger(r)&&r>=0){const i=[];i[r]=s,s=i}else s=new Map([[r,s]])}return Mt(s,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:t,sourceObjects:new Map})}const Gi=t=>t==null||typeof t=="object"&&!!t[Symbol.iterator]().next().done;class Gs extends Mn{constructor(e,n){super(e),Object.defineProperty(this,"schema",{value:n,configurable:!0,enumerable:!1,writable:!0})}clone(e){const n=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(n.schema=e),n.items=n.items.map(s=>W(s)||z(s)?s.clone(e):s),this.range&&(n.range=this.range.slice()),n}addIn(e,n){if(Gi(e))this.add(n);else{const[s,...o]=e,r=this.get(s,!0);if(Y(r))r.addIn(o,n);else if(r===void 0&&this.schema)this.set(s,ls(this.schema,o,n));else throw new Error(`Expected YAML collection at ${s}. Remaining path: ${o}`)}}deleteIn(e){const[n,...s]=e;if(s.length===0)return this.delete(n);const o=this.get(n,!0);if(Y(o))return o.deleteIn(s);throw new Error(`Expected YAML collection at ${n}. Remaining path: ${s}`)}getIn(e,n){const[s,...o]=e,r=this.get(s,!0);return o.length===0?!n&&N(r)?r.value:r:Y(r)?r.getIn(o,n):void 0}hasAllNullValues(e){return this.items.every(n=>{if(!z(n))return!1;const s=n.value;return s==null||e&&N(s)&&s.value==null&&!s.commentBefore&&!s.comment&&!s.tag})}hasIn(e){const[n,...s]=e;if(s.length===0)return this.has(n);const o=this.get(n,!0);return Y(o)?o.hasIn(s):!1}setIn(e,n){const[s,...o]=e;if(o.length===0)this.set(s,n);else{const r=this.get(s,!0);if(Y(r))r.setIn(o,n);else if(r===void 0&&this.schema)this.set(s,ls(this.schema,o,n));else throw new Error(`Expected YAML collection at ${s}. Remaining path: ${o}`)}}}const Ui=t=>t.replace(/^(?!$)(?: $)?/gm,"#");function tt(t,e){return/^\n+$/.test(t)?t.substring(1):e?t.replace(/^(?! *$)/gm,e):t}const Be=(t,e,n)=>t.endsWith(`
`)?tt(n,e):n.includes(`
`)?`
`+tt(n,e):(t.endsWith(" ")?"":" ")+n,Us="flow",an="block",mt="quoted";function Nt(t,e,n="flow",{indentAtStart:s,lineWidth:o=80,minContentWidth:r=20,onFold:i,onOverflow:a}={}){if(!o||o<0)return t;o<r&&(r=0);const l=Math.max(1+r,1+o-e.length);if(t.length<=l)return t;const c=[],f={};let d=o-e.length;typeof s=="number"&&(s>o-Math.max(2,r)?c.push(0):d=o-s);let h,u,g=!1,p=-1,m=-1,y=-1;n===an&&(p=cs(t,p,e.length),p!==-1&&(d=p+l));for(let w;w=t[p+=1];){if(n===mt&&w==="\\"){switch(m=p,t[p+1]){case"x":p+=3;break;case"u":p+=5;break;case"U":p+=9;break;default:p+=1}y=p}if(w===`
`)n===an&&(p=cs(t,p,e.length)),d=p+e.length+l,h=void 0;else{if(w===" "&&u&&u!==" "&&u!==`
`&&u!=="	"){const b=t[p+1];b&&b!==" "&&b!==`
`&&b!=="	"&&(h=p)}if(p>=d)if(h)c.push(h),d=h+l,h=void 0;else if(n===mt){for(;u===" "||u==="	";)u=w,w=t[p+=1],g=!0;const b=p>y+1?p-2:m-1;if(f[b])return t;c.push(b),f[b]=!0,d=b+l,h=void 0}else g=!0}u=w}if(g&&a&&a(),c.length===0)return t;i&&i();let v=t.slice(0,c[0]);for(let w=0;w<c.length;++w){const b=c[w],_=c[w+1]||t.length;b===0?v=`
${e}${t.slice(0,_)}`:(n===mt&&f[b]&&(v+=`${t[b]}\\`),v+=`
${e}${t.slice(b+1,_)}`)}return v}function cs(t,e,n){let s=e,o=e+1,r=t[o];for(;r===" "||r==="	";)if(e<o+n)r=t[++e];else{do r=t[++e];while(r&&r!==`
`);s=e,o=e+1,r=t[o]}return s}const Dt=(t,e)=>({indentAtStart:e?t.indent.length:t.indentAtStart,lineWidth:t.options.lineWidth,minContentWidth:t.options.minContentWidth}),jt=t=>/^(%|---|\.\.\.)/m.test(t);function Ji(t,e,n){if(!e||e<0)return!1;const s=e-n,o=t.length;if(o<=s)return!1;for(let r=0,i=0;r<o;++r)if(t[r]===`
`){if(r-i>s)return!0;if(i=r+1,o-i<=s)return!1}return!0}function Xe(t,e){const n=JSON.stringify(t);if(e.options.doubleQuotedAsJSON)return n;const{implicitKey:s}=e,o=e.options.doubleQuotedMinMultiLineLength,r=e.indent||(jt(t)?"  ":"");let i="",a=0;for(let l=0,c=n[l];c;c=n[++l])if(c===" "&&n[l+1]==="\\"&&n[l+2]==="n"&&(i+=n.slice(a,l)+"\\ ",l+=1,a=l,c="\\"),c==="\\")switch(n[l+1]){case"u":{i+=n.slice(a,l);const f=n.substr(l+2,4);switch(f){case"0000":i+="\\0";break;case"0007":i+="\\a";break;case"000b":i+="\\v";break;case"001b":i+="\\e";break;case"0085":i+="\\N";break;case"00a0":i+="\\_";break;case"2028":i+="\\L";break;case"2029":i+="\\P";break;default:f.substr(0,2)==="00"?i+="\\x"+f.substr(2):i+=n.substr(l,6)}l+=5,a=l+1}break;case"n":if(s||n[l+2]==='"'||n.length<o)l+=1;else{for(i+=n.slice(a,l)+`

`;n[l+2]==="\\"&&n[l+3]==="n"&&n[l+4]!=='"';)i+=`
`,l+=2;i+=r,n[l+2]===" "&&(i+="\\"),l+=1,a=l+1}break;default:l+=1}return i=a?i+n.slice(a):n,s?i:Nt(i,r,mt,Dt(e,!1))}function ln(t,e){if(e.options.singleQuote===!1||e.implicitKey&&t.includes(`
`)||/[ \t]\n|\n[ \t]/.test(t))return Xe(t,e);const n=e.indent||(jt(t)?"  ":""),s="'"+t.replace(/'/g,"''").replace(/\n+/g,`$&
${n}`)+"'";return e.implicitKey?s:Nt(s,n,Us,Dt(e,!1))}function Fe(t,e){const{singleQuote:n}=e.options;let s;if(n===!1)s=Xe;else{const o=t.includes('"'),r=t.includes("'");o&&!r?s=ln:r&&!o?s=Xe:s=n?ln:Xe}return s(t,e)}let cn;try{cn=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch{cn=/\n+(?!\n|$)/g}function yt({comment:t,type:e,value:n},s,o,r){const{blockQuote:i,commentString:a,lineWidth:l}=s.options;if(!i||/\n[\t ]+$/.test(n))return Fe(n,s);const c=s.indent||(s.forceBlockIndent||jt(n)?"  ":""),f=i==="literal"?!0:i==="folded"||e===$.BLOCK_FOLDED?!1:e===$.BLOCK_LITERAL?!0:!Ji(n,l,c.length);if(!n)return f?`|
`:`>
`;let d,h;for(h=n.length;h>0;--h){const _=n[h-1];if(_!==`
`&&_!=="	"&&_!==" ")break}let u=n.substring(h);const g=u.indexOf(`
`);g===-1?d="-":n===u||g!==u.length-1?(d="+",r&&r()):d="",u&&(n=n.slice(0,-u.length),u[u.length-1]===`
`&&(u=u.slice(0,-1)),u=u.replace(cn,`$&${c}`));let p=!1,m,y=-1;for(m=0;m<n.length;++m){const _=n[m];if(_===" ")p=!0;else if(_===`
`)y=m;else break}let v=n.substring(0,y<m?y+1:m);v&&(n=n.substring(v.length),v=v.replace(/\n+/g,`$&${c}`));let b=(p?c?"2":"1":"")+d;if(t&&(b+=" "+a(t.replace(/ ?[\r\n]+/g," ")),o&&o()),!f){const _=n.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${c}`);let O=!1;const A=Dt(s,!0);i!=="folded"&&e!==$.BLOCK_FOLDED&&(A.onOverflow=()=>{O=!0});const D=Nt(`${v}${_}${u}`,c,an,A);if(!O)return`>${b}
${c}${D}`}return n=n.replace(/\n+/g,`$&${c}`),`|${b}
${c}${v}${n}${u}`}function Ki(t,e,n,s){const{type:o,value:r}=t,{actualString:i,implicitKey:a,indent:l,indentStep:c,inFlow:f}=e;if(a&&r.includes(`
`)||f&&/[[\]{},]/.test(r))return Fe(r,e);if(/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(r))return a||f||!r.includes(`
`)?Fe(r,e):yt(t,e,n,s);if(!a&&!f&&o!==$.PLAIN&&r.includes(`
`))return yt(t,e,n,s);if(jt(r)){if(l==="")return e.forceBlockIndent=!0,yt(t,e,n,s);if(a&&l===c)return Fe(r,e)}const d=r.replace(/\n+/g,`$&
${l}`);if(i){const h=p=>p.default&&p.tag!=="tag:yaml.org,2002:str"&&p.test?.test(d),{compat:u,tags:g}=e.doc.schema;if(g.some(h)||u?.some(h))return Fe(r,e)}return a?d:Nt(d,l,Us,Dt(e,!1))}function Qi(t,e,n,s){const{implicitKey:o,inFlow:r}=e,i=typeof t.value=="string"?t:Object.assign({},t,{value:String(t.value)});let{type:a}=t;a!==$.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(i.value)&&(a=$.QUOTE_DOUBLE);const l=f=>{switch(f){case $.BLOCK_FOLDED:case $.BLOCK_LITERAL:return o||r?Fe(i.value,e):yt(i,e,n,s);case $.QUOTE_DOUBLE:return Xe(i.value,e);case $.QUOTE_SINGLE:return ln(i.value,e);case $.PLAIN:return Ki(i,e,n,s);default:return null}};let c=l(a);if(c===null){const{defaultKeyType:f,defaultStringType:d}=e.options,h=o&&f||d;if(c=l(h),c===null)throw new Error(`Unsupported default string type ${h}`)}return c}function Yi(t,e){const n=Object.assign({blockQuote:!0,commentString:Ui,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},t.schema.toStringOptions,e);let s;switch(n.collectionStyle){case"block":s=!1;break;case"flow":s=!0;break;default:s=null}return{anchors:new Set,doc:t,flowCollectionPadding:n.flowCollectionPadding?" ":"",indent:"",indentStep:typeof n.indent=="number"?" ".repeat(n.indent):"  ",inFlow:s,options:n}}function Zi(t,e){if(e.tag){const o=t.filter(r=>r.tag===e.tag);if(o.length>0)return o.find(r=>r.format===e.format)??o[0]}let n,s;if(N(e)){s=e.value;let o=t.filter(r=>r.identify?.(s));if(o.length>1){const r=o.filter(i=>i.test);r.length>0&&(o=r)}n=o.find(r=>r.format===e.format)??o.find(r=>!r.format)}else s=e,n=t.find(o=>o.nodeClass&&s instanceof o.nodeClass);if(!n){const o=s?.constructor?.name??(s===null?"null":typeof s);throw new Error(`Tag not resolved for ${o} value`)}return n}function Xi(t,e,{anchors:n,doc:s}){if(!s.directives)return"";const o=[],r=(N(t)||Y(t))&&t.anchor;r&&qs(r)&&(n.add(r),o.push(`&${r}`));const i=t.tag??(e.default?null:e.tag);return i&&o.push(s.directives.tagString(i)),o.join(" ")}function Tt(t,e,n,s){if(z(t))return t.toString(e,n,s);if(Re(t)){if(e.doc.directives)return t.toString(e);if(e.resolvedAliases?.has(t))throw new TypeError("Cannot stringify circular structure without alias nodes");e.resolvedAliases?e.resolvedAliases.add(t):e.resolvedAliases=new Set([t]),t=t.resolve(e.doc)}let o;const r=W(t)?t:e.doc.createNode(t,{onTagObj:l=>o=l});o??(o=Zi(e.doc.schema.tags,r));const i=Xi(r,o,e);i.length>0&&(e.indentAtStart=(e.indentAtStart??0)+i.length+1);const a=typeof o.stringify=="function"?o.stringify(r,e,n,s):N(r)?Qi(r,e,n,s):r.toString(e,n,s);return i?N(r)||a[0]==="{"||a[0]==="["?`${i} ${a}`:`${i}
${e.indent}${a}`:a}function ea({key:t,value:e},n,s,o){const{allNullValues:r,doc:i,indent:a,indentStep:l,options:{commentString:c,indentSeq:f,simpleKeys:d}}=n;let h=W(t)&&t.comment||null;if(d){if(h)throw new Error("With simple keys, key nodes cannot have comments");if(Y(t)||!W(t)&&typeof t=="object"){const A="With simple keys, collection cannot be used as a key value";throw new Error(A)}}let u=!d&&(!t||h&&e==null&&!n.inFlow||Y(t)||(N(t)?t.type===$.BLOCK_FOLDED||t.type===$.BLOCK_LITERAL:typeof t=="object"));n=Object.assign({},n,{allNullValues:!1,implicitKey:!u&&(d||!r),indent:a+l});let g=!1,p=!1,m=Tt(t,n,()=>g=!0,()=>p=!0);if(!u&&!n.inFlow&&m.length>1024){if(d)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");u=!0}if(n.inFlow){if(r||e==null)return g&&s&&s(),m===""?"?":u?`? ${m}`:m}else if(r&&!d||e==null&&u)return m=`? ${m}`,h&&!g?m+=Be(m,n.indent,c(h)):p&&o&&o(),m;g&&(h=null),u?(h&&(m+=Be(m,n.indent,c(h))),m=`? ${m}
${a}:`):(m=`${m}:`,h&&(m+=Be(m,n.indent,c(h))));let y,v,w;W(e)?(y=!!e.spaceBefore,v=e.commentBefore,w=e.comment):(y=!1,v=null,w=null,e&&typeof e=="object"&&(e=i.createNode(e))),n.implicitKey=!1,!u&&!h&&N(e)&&(n.indentAtStart=m.length+1),p=!1,!f&&l.length>=2&&!n.inFlow&&!u&&Sn(e)&&!e.flow&&!e.tag&&!e.anchor&&(n.indent=n.indent.substring(2));let b=!1;const _=Tt(e,n,()=>b=!0,()=>p=!0);let O=" ";if(h||y||v){if(O=y?`
`:"",v){const A=c(v);O+=`
${tt(A,n.indent)}`}_===""&&!n.inFlow?O===`
`&&w&&(O=`

`):O+=`
${n.indent}`}else if(!u&&Y(e)){const A=_[0],D=_.indexOf(`
`),G=D!==-1,le=n.inFlow??e.flow??e.items.length===0;if(G||!le){let Z=!1;if(G&&(A==="&"||A==="!")){let M=_.indexOf(" ");A==="&"&&M!==-1&&M<D&&_[M+1]==="!"&&(M=_.indexOf(" ",M+1)),(M===-1||D<M)&&(Z=!0)}Z||(O=`
${n.indent}`)}}else(_===""||_[0]===`
`)&&(O="");return m+=O+_,n.inFlow?b&&s&&s():w&&!b?m+=Be(m,n.indent,c(w)):p&&o&&o(),m}function ta(t,e){(t==="debug"||t==="warn")&&console.warn(e)}const lt="<<",Gt={identify:t=>t===lt||typeof t=="symbol"&&t.description===lt,default:"key",tag:"tag:yaml.org,2002:merge",test:/^<<$/,resolve:()=>Object.assign(new $(Symbol(lt)),{addToJSMap:Js}),stringify:()=>lt},na=(t,e)=>(Gt.identify(e)||N(e)&&(!e.type||e.type===$.PLAIN)&&Gt.identify(e.value))&&t?.doc.schema.tags.some(n=>n.tag===Gt.tag&&n.default);function Js(t,e,n){if(n=t&&Re(n)?n.resolve(t.doc):n,Sn(n))for(const s of n.items)Ut(t,e,s);else if(Array.isArray(n))for(const s of n)Ut(t,e,s);else Ut(t,e,n)}function Ut(t,e,n){const s=t&&Re(n)?n.resolve(t.doc):n;if(!zs(s))throw new Error("Merge sources must be maps or map aliases");const o=s.toJSON(null,t,Map);for(const[r,i]of o)e instanceof Map?e.has(r)||e.set(r,i):e instanceof Set?e.add(r):Object.prototype.hasOwnProperty.call(e,r)||Object.defineProperty(e,r,{value:i,writable:!0,enumerable:!0,configurable:!0});return e}function Ks(t,e,{key:n,value:s}){if(W(n)&&n.addToJSMap)n.addToJSMap(t,e,s);else if(na(t,n))Js(t,e,s);else{const o=oe(n,"",t);if(e instanceof Map)e.set(o,oe(s,o,t));else if(e instanceof Set)e.add(o);else{const r=sa(n,o,t),i=oe(s,r,t);r in e?Object.defineProperty(e,r,{value:i,writable:!0,enumerable:!0,configurable:!0}):e[r]=i}}return e}function sa(t,e,n){if(e===null)return"";if(typeof e!="object")return String(e);if(W(t)&&n?.doc){const s=Yi(n.doc,{});s.anchors=new Set;for(const r of n.anchors.keys())s.anchors.add(r.anchor);s.inFlow=!0,s.inStringifyKey=!0;const o=t.toString(s);if(!n.mapKeyWarned){let r=JSON.stringify(o);r.length>40&&(r=r.substring(0,36)+'..."'),ta(n.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${r}. Set mapAsMap: true to use object keys.`),n.mapKeyWarned=!0}return o}return JSON.stringify(e)}function Tn(t,e,n){const s=Mt(t,void 0,n),o=Mt(e,void 0,n);return new ae(s,o)}class ae{constructor(e,n=null){Object.defineProperty(this,re,{value:Fs}),this.key=e,this.value=n}clone(e){let{key:n,value:s}=this;return W(n)&&(n=n.clone(e)),W(s)&&(s=s.clone(e)),new ae(n,s)}toJSON(e,n){const s=n?.mapAsMap?new Map:{};return Ks(n,s,this)}toString(e,n,s){return e?.doc?ea(this,e,n,s):JSON.stringify(this)}}function Qs(t,e,n){return(e.inFlow??t.flow?ra:oa)(t,e,n)}function oa({comment:t,items:e},n,{blockItemPrefix:s,flowChars:o,itemIndent:r,onChompKeep:i,onComment:a}){const{indent:l,options:{commentString:c}}=n,f=Object.assign({},n,{indent:r,type:null});let d=!1;const h=[];for(let g=0;g<e.length;++g){const p=e[g];let m=null;if(W(p))!d&&p.spaceBefore&&h.push(""),Ot(n,h,p.commentBefore,d),p.comment&&(m=p.comment);else if(z(p)){const v=W(p.key)?p.key:null;v&&(!d&&v.spaceBefore&&h.push(""),Ot(n,h,v.commentBefore,d))}d=!1;let y=Tt(p,f,()=>m=null,()=>d=!0);m&&(y+=Be(y,r,c(m))),d&&m&&(d=!1),h.push(s+y)}let u;if(h.length===0)u=o.start+o.end;else{u=h[0];for(let g=1;g<h.length;++g){const p=h[g];u+=p?`
${l}${p}`:`
`}}return t?(u+=`
`+tt(c(t),l),a&&a()):d&&i&&i(),u}function ra({items:t},e,{flowChars:n,itemIndent:s}){const{indent:o,indentStep:r,flowCollectionPadding:i,options:{commentString:a}}=e;s+=r;const l=Object.assign({},e,{indent:s,inFlow:!0,type:null});let c=!1,f=0;const d=[];for(let g=0;g<t.length;++g){const p=t[g];let m=null;if(W(p))p.spaceBefore&&d.push(""),Ot(e,d,p.commentBefore,!1),p.comment&&(m=p.comment);else if(z(p)){const v=W(p.key)?p.key:null;v&&(v.spaceBefore&&d.push(""),Ot(e,d,v.commentBefore,!1),v.comment&&(c=!0));const w=W(p.value)?p.value:null;w?(w.comment&&(m=w.comment),w.commentBefore&&(c=!0)):p.value==null&&v?.comment&&(m=v.comment)}m&&(c=!0);let y=Tt(p,l,()=>m=null);g<t.length-1&&(y+=","),m&&(y+=Be(y,s,a(m))),!c&&(d.length>f||y.includes(`
`))&&(c=!0),d.push(y),f=d.length}const{start:h,end:u}=n;if(d.length===0)return h+u;if(!c){const g=d.reduce((p,m)=>p+m.length+2,2);c=e.options.lineWidth>0&&g>e.options.lineWidth}if(c){let g=h;for(const p of d)g+=p?`
${r}${o}${p}`:`
`;return`${g}
${o}${u}`}else return`${h}${i}${d.join(" ")}${i}${u}`}function Ot({indent:t,options:{commentString:e}},n,s,o){if(s&&o&&(s=s.replace(/^\n+/,"")),s){const r=tt(e(s),t);n.push(r.trimStart())}}function Ce(t,e){const n=N(e)?e.value:e;for(const s of t)if(z(s)&&(s.key===e||s.key===n||N(s.key)&&s.key.value===n))return s}class Ne extends Gs{static get tagName(){return"tag:yaml.org,2002:map"}constructor(e){super($e,e),this.items=[]}static from(e,n,s){const{keepUndefined:o,replacer:r}=s,i=new this(e),a=(l,c)=>{if(typeof r=="function")c=r.call(n,l,c);else if(Array.isArray(r)&&!r.includes(l))return;(c!==void 0||o)&&i.items.push(Tn(l,c,s))};if(n instanceof Map)for(const[l,c]of n)a(l,c);else if(n&&typeof n=="object")for(const l of Object.keys(n))a(l,n[l]);return typeof e.sortMapEntries=="function"&&i.items.sort(e.sortMapEntries),i}add(e,n){let s;z(e)?s=e:!e||typeof e!="object"||!("key"in e)?s=new ae(e,e?.value):s=new ae(e.key,e.value);const o=Ce(this.items,s.key),r=this.schema?.sortMapEntries;if(o){if(!n)throw new Error(`Key ${s.key} already set`);N(o.value)&&Ws(s.value)?o.value.value=s.value:o.value=s.value}else if(r){const i=this.items.findIndex(a=>r(s,a)<0);i===-1?this.items.push(s):this.items.splice(i,0,s)}else this.items.push(s)}delete(e){const n=Ce(this.items,e);return n?this.items.splice(this.items.indexOf(n),1).length>0:!1}get(e,n){const o=Ce(this.items,e)?.value;return(!n&&N(o)?o.value:o)??void 0}has(e){return!!Ce(this.items,e)}set(e,n){this.add(new ae(e,n),!0)}toJSON(e,n,s){const o=s?new s:n?.mapAsMap?new Map:{};n?.onCreate&&n.onCreate(o);for(const r of this.items)Ks(n,o,r);return o}toString(e,n,s){if(!e)return JSON.stringify(this);for(const o of this.items)if(!z(o))throw new Error(`Map items must all be pairs; found ${JSON.stringify(o)} instead`);return!e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),Qs(this,e,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:e.indent||"",onChompKeep:s,onComment:n})}}class Ys extends Gs{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(e){super(nt,e),this.items=[]}add(e){this.items.push(e)}delete(e){const n=ct(e);return typeof n!="number"?!1:this.items.splice(n,1).length>0}get(e,n){const s=ct(e);if(typeof s!="number")return;const o=this.items[s];return!n&&N(o)?o.value:o}has(e){const n=ct(e);return typeof n=="number"&&n<this.items.length}set(e,n){const s=ct(e);if(typeof s!="number")throw new Error(`Expected a valid index, not ${e}.`);const o=this.items[s];N(o)&&Ws(n)?o.value=n:this.items[s]=n}toJSON(e,n){const s=[];n?.onCreate&&n.onCreate(s);let o=0;for(const r of this.items)s.push(oe(r,String(o++),n));return s}toString(e,n,s){return e?Qs(this,e,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(e.indent||"")+"  ",onChompKeep:s,onComment:n}):JSON.stringify(this)}static from(e,n,s){const{replacer:o}=s,r=new this(e);if(n&&Symbol.iterator in Object(n)){let i=0;for(let a of n){if(typeof o=="function"){const l=n instanceof Set?a:String(i++);a=o.call(n,l,a)}r.items.push(Mt(a,void 0,s))}}return r}}function ct(t){let e=N(t)?t.value:t;return e&&typeof e=="string"&&(e=Number(e)),typeof e=="number"&&Number.isInteger(e)&&e>=0?e:null}function ia(t,e,n){const{replacer:s}=n,o=new Ys(t);o.tag="tag:yaml.org,2002:pairs";let r=0;if(e&&Symbol.iterator in Object(e))for(let i of e){typeof s=="function"&&(i=s.call(e,String(r++),i));let a,l;if(Array.isArray(i))if(i.length===2)a=i[0],l=i[1];else throw new TypeError(`Expected [key, value] tuple: ${i}`);else if(i&&i instanceof Object){const c=Object.keys(i);if(c.length===1)a=c[0],l=i[a];else throw new TypeError(`Expected tuple with one key, not ${c.length} keys`)}else a=i;o.items.push(Tn(a,l,n))}return o}class On extends Ys{constructor(){super(),this.add=Ne.prototype.add.bind(this),this.delete=Ne.prototype.delete.bind(this),this.get=Ne.prototype.get.bind(this),this.has=Ne.prototype.has.bind(this),this.set=Ne.prototype.set.bind(this),this.tag=On.tag}toJSON(e,n){if(!n)return super.toJSON(e);const s=new Map;n?.onCreate&&n.onCreate(s);for(const o of this.items){let r,i;if(z(o)?(r=oe(o.key,"",n),i=oe(o.value,r,n)):r=oe(o,"",n),s.has(r))throw new Error("Ordered maps must not include duplicate keys");s.set(r,i)}return s}static from(e,n,s){const o=ia(e,n,s),r=new this;return r.items=o.items,r}}On.tag="tag:yaml.org,2002:omap";class Pn extends Ne{constructor(e){super(e),this.tag=Pn.tag}add(e){let n;z(e)?n=e:e&&typeof e=="object"&&"key"in e&&"value"in e&&e.value===null?n=new ae(e.key,null):n=new ae(e,null),Ce(this.items,n.key)||this.items.push(n)}get(e,n){const s=Ce(this.items,e);return!n&&z(s)?N(s.key)?s.key.value:s.key:s}set(e,n){if(typeof n!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof n}`);const s=Ce(this.items,e);s&&!n?this.items.splice(this.items.indexOf(s),1):!s&&n&&this.items.push(new ae(e))}toJSON(e,n){return super.toJSON(e,n,Set)}toString(e,n,s){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),n,s);throw new Error("Set items must all have null values")}static from(e,n,s){const{replacer:o}=s,r=new this(e);if(n&&Symbol.iterator in Object(n))for(let i of n)typeof o=="function"&&(i=o.call(n,i,i)),r.items.push(Tn(i,null,s));return r}}Pn.tag="tag:yaml.org,2002:set";new Set("0123456789ABCDEFabcdef");new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()");new Set(",[]{}");new Set(` ,[]{}
\r	`);function En(t=5){const e=[],n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",s=n.length;for(let o=0;o<t;o++)e.push(n.charAt(Math.floor(Math.random()*s)));return e.join("")}function Zs(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substr(2,10)}function te(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!1})}const ue=L({});let aa=[],la=[];te(ue,"$syncUp",!0);te(ue,"$syncDown",!0);te(ue,"$paused",!1);te(ue,"$onSet",t=>aa.push(t));te(ue,"$onPatch",t=>la.push(t));Zs();te(ue,"$patch",async()=>!1);const ca={channels:[],enabled:!0,init(t,e,n,s=!1){let o;if(!s)o=new BroadcastChannel(t),o.addEventListener("message",r=>e(r.data)),this.channels.push(o);else if(s){this.listener=function(i){i&&i.key===t&&i.newValue&&e(JSON.parse(i.newValue))},window.addEventListener("storage",this.listener);const r=window.localStorage.getItem(t);r&&e(JSON.parse(r))}return(r,i=!1)=>{this.enabled&&(!s&&o&&!i&&o.postMessage(Os(r)),s&&!i&&window.localStorage.setItem(t,JSON.stringify(r)))}},disable(){this.enabled=!1,this.channels.forEach(t=>t.close()),this.listener&&window.removeEventListener("storage",this.listener)}},ua=L([ca]),fa=new Map,us=T({});function Xs(t,e,n=!1){const s=[];let o=!1,r=!1,i,a;const l=L(e);function c(u){s.push(u)}function f(u,g){l[u]!==g&&(clearTimeout(i),o=!0,l[u]=g,i=setTimeout(()=>o=!1,0))}function d(u){o||(clearTimeout(a),r=!0,Object.entries(u).forEach(([g,p])=>{l[g]=p}),a=setTimeout(()=>r=!1,0))}function h(u){fa.set(u,{onUpdate:d,persist:n,state:l}),us.value[u]=ua.map(p=>p.init(u,d,l,n)).filter(p=>!!p);function g(){us.value[u].forEach(p=>p?.(Os(l),r)),o||s.forEach(p=>p(l))}ee(l,g,{deep:!0})}return{init:h,onPatch:c,onUpdate:d,patch:f,state:l}}const{init:ha,onPatch:Gl,patch:Ul,state:Jl}=Xs(ue,ue,!1),xe=L({page:0,clicks:0,timer:{status:"stopped",slides:{},startedAt:0,pausedAt:0}});let da=[],pa=[];te(xe,"$syncUp",!0);te(xe,"$syncDown",!0);te(xe,"$paused",!1);te(xe,"$onSet",t=>da.push(t));te(xe,"$onPatch",t=>pa.push(t));Zs();te(xe,"$patch",async()=>!1);const{init:ga,onPatch:ma,patch:ut,state:Kl}=Xs(xe,{page:1,clicks:0,clicksTotal:0,timer:{status:"stopped",slides:{},startedAt:0,pausedAt:0}});function ya(){const t=ks().appContext.app,e=L({nav:qe(),configs:R,themeConfigs:k(()=>R.themeConfig)});t.provide(wn,T("none")),t.provide(vi,e),t.provide(vn,k(()=>e.nav.currentSlideNo)),t.provide($t,yn(Or()));for(const h of Xo)h();const{clicksContext:n,currentSlideNo:s,hasPrimarySlide:o,isNotesViewer:r,isPresenter:i,isPrintMode:a}=qe();Sr({title:Bt,htmlAttrs:R.htmlAttrs}),ji(),ga(`${Bt} - shared`),ha(`${Bt} - drawings`);const l=`${location.origin}_${En()}`,c=k(()=>i.value?"presenter":"viewer");function f(){(i.value?at.value.presenterSend:at.value.viewerSend)&&(r.value||a.value||!i.value&&!ki.includes(location.host.split(":")[0])||(ut("page",+s.value),ut("clicks",n.value.current),ut("clicksTotal",n.value.total),ut("lastUpdate",{id:l,type:c.value,time:new Date().getTime()})))}const d=At();d.afterEach(f),ee(n,f),ma(h=>{(i.value?at.value.presenterReceive:at.value.viewerReceive)&&(!o.value||a.value||h.lastUpdate?.type!==c.value&&(+h.page==+s.value&&+n.value.current==+h.clicks||(bn.value=!1,d.replace({path:je(h.page,i.value),query:{...d.currentRoute.value.query,clicks:h.clicks||0}}))))})}const va=Ss({__name:"App",setup(t){return ya(),ze(()=>{for(const[e,n]of Object.entries(Zo.value))document.body.style.setProperty(e,n.toString())}),(e,n)=>{const s=Io("RouterView");return bt(),xo(s)}}}),wa=[Object.values([])[0],Object.values([])[0]].filter(Boolean);async function eo(t,e={}){const n=e.document||t.resolvedOptions.document;if(!n||!t.dirty)return;const s={shouldRender:!0,tags:[]};if(await t.hooks.callHook("dom:beforeRender",s),!!s.shouldRender)return t._domUpdatePromise||(t._domUpdatePromise=new Promise(async o=>{const r=new Map,i=new Promise(u=>{t.resolveTags().then(g=>{u(g.map(p=>{const m=r.get(p._d)||0,y={tag:p,id:(m?`${p._d}:${m}`:p._d)||Dn(p),shouldRender:!0};return p._d&&Cs(p._d)&&r.set(p._d,m+1),y}))})});let a=t._dom;if(!a){a={title:n.title,elMap:new Map().set("htmlAttrs",n.documentElement).set("bodyAttrs",n.body)};for(const u of["body","head"]){const g=n[u]?.children;for(const p of g){const m=p.tagName.toLowerCase();if(!Nn.has(m))continue;const y=$s({tag:m,props:{}},{innerHTML:p.innerHTML,...p.getAttributeNames().reduce((v,w)=>(v[w]=p.getAttribute(w),v),{})||{}});if(y.key=p.getAttribute("data-hid")||void 0,y._d=sn(y)||Dn(y),a.elMap.has(y._d)){let v=1,w=y._d;for(;a.elMap.has(w);)w=`${y._d}:${v++}`;a.elMap.set(w,p)}else a.elMap.set(y._d,p)}}}a.pendingSideEffects={...a.sideEffects},a.sideEffects={};function l(u,g,p){const m=`${u}:${g}`;a.sideEffects[m]=p,delete a.pendingSideEffects[m]}function c({id:u,$el:g,tag:p}){const m=p.tag.endsWith("Attrs");a.elMap.set(u,g),m||(p.textContent&&p.textContent!==g.textContent&&(g.textContent=p.textContent),p.innerHTML&&p.innerHTML!==g.innerHTML&&(g.innerHTML=p.innerHTML),l(u,"el",()=>{g?.remove(),a.elMap.delete(u)}));for(const y in p.props){if(!Object.prototype.hasOwnProperty.call(p.props,y))continue;const v=p.props[y];if(y.startsWith("on")&&typeof v=="function"){const b=g?.dataset;if(b&&b[`${y}fired`]){const _=y.slice(0,-5);v.call(g,new Event(_.substring(2)))}g.getAttribute(`data-${y}`)!==""&&((p.tag==="bodyAttrs"?n.defaultView:g).addEventListener(y.substring(2),v.bind(g)),g.setAttribute(`data-${y}`,""));continue}const w=`attr:${y}`;if(y==="class"){if(!v)continue;for(const b of v)m&&l(u,`${w}:${b}`,()=>g.classList.remove(b)),!g.classList.contains(b)&&g.classList.add(b)}else if(y==="style"){if(!v)continue;for(const[b,_]of v)l(u,`${w}:${b}`,()=>{g.style.removeProperty(b)}),g.style.setProperty(b,_)}else v!==!1&&v!==null&&(g.getAttribute(y)!==v&&g.setAttribute(y,v===!0?"":String(v)),m&&l(u,w,()=>g.removeAttribute(y)))}}const f=[],d={bodyClose:void 0,bodyOpen:void 0,head:void 0},h=await i;for(const u of h){const{tag:g,shouldRender:p,id:m}=u;if(p){if(g.tag==="title"){n.title=g.textContent,l("title","",()=>n.title=a.title);continue}u.$el=u.$el||a.elMap.get(m),u.$el?c(u):Nn.has(g.tag)&&f.push(u)}}for(const u of f){const g=u.tag.tagPosition||"head";u.$el=n.createElement(u.tag.tag),c(u),d[g]=d[g]||n.createDocumentFragment(),d[g].appendChild(u.$el)}for(const u of h)await t.hooks.callHook("dom:renderTag",u,n,l);d.head&&n.head.appendChild(d.head),d.bodyOpen&&n.body.insertBefore(d.bodyOpen,n.body.firstChild),d.bodyClose&&n.body.appendChild(d.bodyClose);for(const u in a.pendingSideEffects)a.pendingSideEffects[u]();t._dom=a,await t.hooks.callHook("dom:rendered",{renders:h}),o()}).finally(()=>{t._domUpdatePromise=void 0,t.dirty=!1})),t._domUpdatePromise}function ba(t={}){const e=t.domOptions?.render||eo;t.document=t.document||(typeof window<"u"?document:void 0);const n=t.document?.head.querySelector('script[id="unhead:payload"]')?.innerHTML||!1;return wr({...t,plugins:[...t.plugins||[],{key:"client",hooks:{"entries:updated":e}}],init:[n?JSON.parse(n):!1,...t.init||[]]})}function ka(t,e){let n=0;return()=>{const s=++n;e(()=>{n===s&&t()})}}function _a(t={}){const e=ba({domOptions:{render:ka(()=>eo(e),n=>setTimeout(n,0))},...t});return e.install=kr(e),e}function Ql(t,e=""){const n=["slidev-page",e],s=t?.meta?.slide?.no;return s!=null&&n.push(`slidev-page-${s}`),n.filter(Boolean).join(" ")}async function Yl(){const{saveAs:t}=await P(async()=>{const{saveAs:e}=await import("./modules/file-saver-DKWcVV7Q.js").then(n=>n.F);return{saveAs:e}},[]);t(typeof R.download=="string"?R.download:R.exportFilename?`${R.exportFilename}.pdf`:"/presentation/gptoss-safetytax/slidev-exported.pdf",`${R.title}.pdf`)}function Ve(t,e,n){return(t.instance?.$).provides[e]??n}function Sa(){return{install(t){t.directive("click",{name:"v-click",mounted(e,n){const s=vt(e,n,n.value);s!=null&&(e.classList.toggle(dt,!0),e.dataset.slidevClicksStart=String(s.start),Number.isFinite(s.end)&&(e.dataset.slidevClicksEnd=String(s.end)),e.watchStopHandle=ze(()=>{const o=s.isActive.value,r=s.isCurrent.value,i=o&&!r;s.flagHide?(e.classList.toggle(s.flagFade?Je:Ue,o),e.classList.toggle(zt,o)):e.classList.toggle(s.flagFade?Je:Ue,!o),e.classList.toggle(Vt,r),e.classList.toggle(qt,i)}))},unmounted:Jt}),t.directive("after",{name:"v-after",mounted(e,n){const s=vt(e,n,"+0");s!=null&&(e.classList.toggle(dt,!0),e.watchStopHandle=ze(()=>{const o=s.isActive.value,r=s.isCurrent.value,i=o&&!r;s.flagHide?(e.classList.toggle(s.flagFade?Je:Ue,o),e.classList.toggle(zt,o)):e.classList.toggle(s.flagFade?Je:Ue,!o),e.classList.toggle(Vt,r),e.classList.toggle(qt,i)}))},unmounted:Jt}),t.directive("click-hide",{name:"v-click-hide",mounted(e,n){const s=vt(e,n,n.value,!0);s!=null&&(e.classList.toggle(dt,!0),e.watchStopHandle=ze(()=>{const o=s.isActive.value,r=s.isCurrent.value,i=o&&!r;e.classList.toggle(s.flagFade?Je:Ue,o),e.classList.toggle(zt,o),e.classList.toggle(Vt,r),e.classList.toggle(qt,i)}))},unmounted:Jt})}}}const to=new Map;function vt(t,e,n,s=!1){const o=Ve(e,$t)?.value;if(!t||!o)return null;const r=s||e.modifiers.hide!==!1&&e.modifiers.hide!=null,i=e.modifiers.fade!==!1&&e.modifiers.fade!=null,a=o.calculate(n);if(!a)return null;o.register(t,a);const l=k(()=>r?!a.isActive.value:a.isActive.value),c=k(()=>l.value?"shown":Number.isFinite(a.end)?o.current<a.start?"before":"after":r?"after":"before"),f={...a,isShown:l,visibilityState:c,flagFade:i,flagHide:r};return to.set(t,f),f}function Jt(t,e){t.classList.toggle(dt,!1),Ve(e,$t)?.value?.unregister(t),t.watchStopHandle?.()}function Ma(t=bs(Is,T())){const e=No(t),n=ee([Ai,Ci,$i,Ri,Li,_t.width,_t.height],()=>{setTimeout(e.update,300)},{flush:"post",immediate:!0});return{...e,stop:n}}function Ta(t){return()=>{}}function Oa(t,e,n,s=!1){function o(x){return t?Ve(t,x):jo(x)}const r=o(wn),i=o(wi)??{},a=o(vn),l=k(()=>Ta(a.value)),c=o(yi)??T(1),f=o(bi)??T(1),{left:d,top:h,stop:u}=Ma(o(Is)??T()),{isPrintMode:g}=qe(),p=["slide","presenter"].includes(r.value)&&!g.value;let m=t?"directive":"prop",y=En(),v;if(Array.isArray(e)?v=e:typeof e=="string"&&e.includes(",")?v=e.split(",").map(Number):e!=null&&(m="frontmatter",y=`${e}`,e=i?.dragPos?.[y],v=e?.split(",").map(Number)),m!=="frontmatter"&&!n)throw new Error("[Slidev] Can not identify the source position of the v-drag element, please provide an explicit `id` prop.");const w=[u],b=!s&&e!=null&&!Number.isFinite(v?.[3]);v??=[Number.NaN,Number.NaN,0];const _=T(v[2]),O=T(v[0]+v[2]/2),A=T(s?0:v[4]??0),D=k(()=>A.value*Math.PI/180),G=k(()=>Math.sin(D.value)),le=k(()=>Math.cos(D.value)),Z=T(),M=T({left:0,top:0,width:0,height:0}),E=T(0);function B(){if(!Z.value)return;const x=Z.value.getBoundingClientRect();M.value={left:x.left/f.value,top:x.top/f.value,width:x.width/f.value,height:x.height/f.value},E.value=(M.value.width+M.value.height)/c.value/(Math.abs(G.value)+Math.abs(le.value))-_.value}w.push(ee(_,B,{flush:"post"}));const I=T(v[3]??0),C=b?k({get:()=>(b?E.value:I.value)||0,set:x=>!b&&(I.value=x)}):I,ie=b?T(v[1]):T(v[1]+v[3]/2),ce=b?k({get:()=>ie.value+C.value/2,set:x=>ie.value=x-C.value/2}):ie,We=k(()=>Number.isFinite(O.value)?{position:"absolute",zIndex:100,left:`${O.value-_.value/2}px`,top:`${ce.value-C.value/2}px`,width:`${_.value}px`,height:b?void 0:`${C.value}px`,transformOrigin:"center center",transform:`rotate(${A.value}deg)`}:{position:"absolute",zIndex:100});w.push(ee([O,ce,_,C,A],([x,ot,Cn,$n,Rn])=>{let Ie=[x-Cn/2,ot-$n/2,Cn].map(Math.round).join();b?Ie+=m==="directive"?",NaN":",_":Ie+=`,${Math.round($n)}`,Math.round(Rn)!==0&&(Ie+=`,${Math.round(Rn)}`),m==="directive"&&(Ie=`[${Ie}]`),l.value(y,Ie,m,n)}));const K={dragId:y,dataSource:m,markdownSource:n,isArrow:s,zoom:f,autoHeight:b,x0:O,y0:ce,width:_,height:C,rotate:A,container:Z,containerStyle:We,watchStopHandles:w,dragging:k(()=>rt.value===K),mounted(){p&&(B(),e||setTimeout(()=>{B(),O.value=(M.value.left+M.value.width/2-d.value)/c.value,ce.value=(M.value.top-h.value)/c.value,_.value=M.value.width/c.value,C.value=M.value.height/c.value},100))},unmounted(){p&&K.stopDragging()},startDragging(){p&&(B(),rt.value=K)},stopDragging(){p&&rt.value===K&&(rt.value=null)}};return w.push(Do(Z,x=>{const ot=document.querySelector("#drag-control-container");ot&&x.target&&ot.contains(x.target)||K.stopDragging()}),ee(Ho(),x=>{x||K.stopDragging()})),K}function Pa(){return{install(t){t.directive("drag",{name:"v-drag",created(e,n,s){const o=Oa(n,n.value,s.props?.markdownSource);s.props&&(s.props={...s.props},delete s.props.markdownSource),o.container.value=e,e.draggingState=o,e.dataset.dragId=o.dragId,o.watchStopHandles.push(ee(o.containerStyle,r=>{for(const[i,a]of Object.entries(r))a&&(e.style[i]=a)},{immediate:!0})),e.addEventListener("dblclick",o.startDragging)},mounted(e){e.draggingState.mounted()},unmounted(e){const n=e.draggingState;n.unmounted(),e.removeEventListener("dblclick",n.startDragging),n.watchStopHandles.forEach(s=>s())}})}}}function no(){return Math.floor(Math.random()*2**31)}class Ea{constructor(e){this.seed=e}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}function un(t,e,n){if(t&&t.length){const[s,o]=e,r=Math.PI/180*n,i=Math.cos(r),a=Math.sin(r);for(const l of t){const[c,f]=l;l[0]=(c-s)*i-(f-o)*a+s,l[1]=(c-s)*a+(f-o)*i+o}}}function La(t,e,n){const s=[];t.forEach(o=>s.push(...o)),un(s,e,n)}function Aa(t,e){return t[0]===e[0]&&t[1]===e[1]}function Ca(t,e,n,s=1){const o=n,r=Math.max(e,.1),i=t[0]&&t[0][0]&&typeof t[0][0]=="number"?[t]:t,a=[0,0];if(o)for(const c of i)un(c,a,o);const l=$a(i,r,s);if(o){for(const c of i)un(c,a,-o);La(l,a,-o)}return l}function $a(t,e,n){const s=[];for(const c of t){const f=[...c];Aa(f[0],f[f.length-1])||f.push([f[0][0],f[0][1]]),f.length>2&&s.push(f)}const o=[];e=Math.max(e,.1);const r=[];for(const c of s)for(let f=0;f<c.length-1;f++){const d=c[f],h=c[f+1];if(d[1]!==h[1]){const u=Math.min(d[1],h[1]);r.push({ymin:u,ymax:Math.max(d[1],h[1]),x:u===d[1]?d[0]:h[0],islope:(h[0]-d[0])/(h[1]-d[1])})}}if(r.sort((c,f)=>c.ymin<f.ymin?-1:c.ymin>f.ymin?1:c.x<f.x?-1:c.x>f.x?1:c.ymax===f.ymax?0:(c.ymax-f.ymax)/Math.abs(c.ymax-f.ymax)),!r.length)return o;let i=[],a=r[0].ymin,l=0;for(;i.length||r.length;){if(r.length){let c=-1;for(let d=0;d<r.length&&!(r[d].ymin>a);d++)c=d;r.splice(0,c+1).forEach(d=>{i.push({s:a,edge:d})})}if(i=i.filter(c=>!(c.edge.ymax<=a)),i.sort((c,f)=>c.edge.x===f.edge.x?0:(c.edge.x-f.edge.x)/Math.abs(c.edge.x-f.edge.x)),(n!==1||l%e===0)&&i.length>1)for(let c=0;c<i.length;c=c+2){const f=c+1;if(f>=i.length)break;const d=i[c].edge,h=i[f].edge;o.push([[Math.round(d.x),a],[Math.round(h.x),a]])}a+=n,i.forEach(c=>{c.edge.x=c.edge.x+n*c.edge.islope}),l++}return o}function st(t,e){var n;const s=e.hachureAngle+90;let o=e.hachureGap;o<0&&(o=e.strokeWidth*4),o=Math.round(Math.max(o,.1));let r=1;return e.roughness>=1&&(((n=e.randomizer)===null||n===void 0?void 0:n.next())||Math.random())>.7&&(r=o),Ca(t,o,s,r||1)}class Ln{constructor(e){this.helper=e}fillPolygons(e,n){return this._fillPolygons(e,n)}_fillPolygons(e,n){const s=st(e,n);return{type:"fillSketch",ops:this.renderLines(s,n)}}renderLines(e,n){const s=[];for(const o of e)s.push(...this.helper.doubleLineOps(o[0][0],o[0][1],o[1][0],o[1][1],n));return s}}function Ht(t){const e=t[0],n=t[1];return Math.sqrt(Math.pow(e[0]-n[0],2)+Math.pow(e[1]-n[1],2))}class Ra extends Ln{fillPolygons(e,n){let s=n.hachureGap;s<0&&(s=n.strokeWidth*4),s=Math.max(s,.1);const o=Object.assign({},n,{hachureGap:s}),r=st(e,o),i=Math.PI/180*n.hachureAngle,a=[],l=s*.5*Math.cos(i),c=s*.5*Math.sin(i);for(const[d,h]of r)Ht([d,h])&&a.push([[d[0]-l,d[1]+c],[...h]],[[d[0]+l,d[1]-c],[...h]]);return{type:"fillSketch",ops:this.renderLines(a,n)}}}class xa extends Ln{fillPolygons(e,n){const s=this._fillPolygons(e,n),o=Object.assign({},n,{hachureAngle:n.hachureAngle+90}),r=this._fillPolygons(e,o);return s.ops=s.ops.concat(r.ops),s}}class Ia{constructor(e){this.helper=e}fillPolygons(e,n){n=Object.assign({},n,{hachureAngle:0});const s=st(e,n);return this.dotsOnLines(s,n)}dotsOnLines(e,n){const s=[];let o=n.hachureGap;o<0&&(o=n.strokeWidth*4),o=Math.max(o,.1);let r=n.fillWeight;r<0&&(r=n.strokeWidth/2);const i=o/4;for(const a of e){const l=Ht(a),c=l/o,f=Math.ceil(c)-1,d=l-f*o,h=(a[0][0]+a[1][0])/2-o/4,u=Math.min(a[0][1],a[1][1]);for(let g=0;g<f;g++){const p=u+d+g*o,m=h-i+Math.random()*2*i,y=p-i+Math.random()*2*i,v=this.helper.ellipse(m,y,r,r,n);s.push(...v.ops)}}return{type:"fillSketch",ops:s}}}class Na{constructor(e){this.helper=e}fillPolygons(e,n){const s=st(e,n);return{type:"fillSketch",ops:this.dashedLine(s,n)}}dashedLine(e,n){const s=n.dashOffset<0?n.hachureGap<0?n.strokeWidth*4:n.hachureGap:n.dashOffset,o=n.dashGap<0?n.hachureGap<0?n.strokeWidth*4:n.hachureGap:n.dashGap,r=[];return e.forEach(i=>{const a=Ht(i),l=Math.floor(a/(s+o)),c=(a+o-l*(s+o))/2;let f=i[0],d=i[1];f[0]>d[0]&&(f=i[1],d=i[0]);const h=Math.atan((d[1]-f[1])/(d[0]-f[0]));for(let u=0;u<l;u++){const g=u*(s+o),p=g+s,m=[f[0]+g*Math.cos(h)+c*Math.cos(h),f[1]+g*Math.sin(h)+c*Math.sin(h)],y=[f[0]+p*Math.cos(h)+c*Math.cos(h),f[1]+p*Math.sin(h)+c*Math.sin(h)];r.push(...this.helper.doubleLineOps(m[0],m[1],y[0],y[1],n))}}),r}}class Da{constructor(e){this.helper=e}fillPolygons(e,n){const s=n.hachureGap<0?n.strokeWidth*4:n.hachureGap,o=n.zigzagOffset<0?s:n.zigzagOffset;n=Object.assign({},n,{hachureGap:s+o});const r=st(e,n);return{type:"fillSketch",ops:this.zigzagLines(r,o,n)}}zigzagLines(e,n,s){const o=[];return e.forEach(r=>{const i=Ht(r),a=Math.round(i/(2*n));let l=r[0],c=r[1];l[0]>c[0]&&(l=r[1],c=r[0]);const f=Math.atan((c[1]-l[1])/(c[0]-l[0]));for(let d=0;d<a;d++){const h=d*2*n,u=(d+1)*2*n,g=Math.sqrt(2*Math.pow(n,2)),p=[l[0]+h*Math.cos(f),l[1]+h*Math.sin(f)],m=[l[0]+u*Math.cos(f),l[1]+u*Math.sin(f)],y=[p[0]+g*Math.cos(f+Math.PI/4),p[1]+g*Math.sin(f+Math.PI/4)];o.push(...this.helper.doubleLineOps(p[0],p[1],y[0],y[1],s),...this.helper.doubleLineOps(y[0],y[1],m[0],m[1],s))}}),o}}const U={};function ja(t,e){let n=t.fillStyle||"hachure";if(!U[n])switch(n){case"zigzag":U[n]||(U[n]=new Ra(e));break;case"cross-hatch":U[n]||(U[n]=new xa(e));break;case"dots":U[n]||(U[n]=new Ia(e));break;case"dashed":U[n]||(U[n]=new Na(e));break;case"zigzag-line":U[n]||(U[n]=new Da(e));break;default:n="hachure",U[n]||(U[n]=new Ln(e));break}return U[n]}const Ha=0,fn=1,so=2,ft={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function Ba(t){const e=new Array;for(;t!=="";)if(t.match(/^([ \t\r\n,]+)/))t=t.substr(RegExp.$1.length);else if(t.match(/^([aAcChHlLmMqQsStTvVzZ])/))e[e.length]={type:Ha,text:RegExp.$1},t=t.substr(RegExp.$1.length);else if(t.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))e[e.length]={type:fn,text:`${parseFloat(RegExp.$1)}`},t=t.substr(RegExp.$1.length);else return[];return e[e.length]={type:so,text:""},e}function Kt(t,e){return t.type===e}function An(t){const e=[],n=Ba(t);let s="BOD",o=0,r=n[o];for(;!Kt(r,so);){let i=0;const a=[];if(s==="BOD")if(r.text==="M"||r.text==="m")o++,i=ft[r.text],s=r.text;else return An("M0,0"+t);else Kt(r,fn)?i=ft[s]:(o++,i=ft[r.text],s=r.text);if(o+i<n.length){for(let l=o;l<o+i;l++){const c=n[l];if(Kt(c,fn))a[a.length]=+c.text;else throw new Error("Param not a number: "+s+","+c.text)}if(typeof ft[s]=="number"){const l={key:s,data:a};e.push(l),o+=i,r=n[o],s==="M"&&(s="L"),s==="m"&&(s="l")}else throw new Error("Bad segment: "+s)}else throw new Error("Path data ended short")}return e}function oo(t){let e=0,n=0,s=0,o=0;const r=[];for(const{key:i,data:a}of t)switch(i){case"M":r.push({key:"M",data:[...a]}),[e,n]=a,[s,o]=a;break;case"m":e+=a[0],n+=a[1],r.push({key:"M",data:[e,n]}),s=e,o=n;break;case"L":r.push({key:"L",data:[...a]}),[e,n]=a;break;case"l":e+=a[0],n+=a[1],r.push({key:"L",data:[e,n]});break;case"C":r.push({key:"C",data:[...a]}),e=a[4],n=a[5];break;case"c":{const l=a.map((c,f)=>f%2?c+n:c+e);r.push({key:"C",data:l}),e=l[4],n=l[5];break}case"Q":r.push({key:"Q",data:[...a]}),e=a[2],n=a[3];break;case"q":{const l=a.map((c,f)=>f%2?c+n:c+e);r.push({key:"Q",data:l}),e=l[2],n=l[3];break}case"A":r.push({key:"A",data:[...a]}),e=a[5],n=a[6];break;case"a":e+=a[5],n+=a[6],r.push({key:"A",data:[a[0],a[1],a[2],a[3],a[4],e,n]});break;case"H":r.push({key:"H",data:[...a]}),e=a[0];break;case"h":e+=a[0],r.push({key:"H",data:[e]});break;case"V":r.push({key:"V",data:[...a]}),n=a[0];break;case"v":n+=a[0],r.push({key:"V",data:[n]});break;case"S":r.push({key:"S",data:[...a]}),e=a[2],n=a[3];break;case"s":{const l=a.map((c,f)=>f%2?c+n:c+e);r.push({key:"S",data:l}),e=l[2],n=l[3];break}case"T":r.push({key:"T",data:[...a]}),e=a[0],n=a[1];break;case"t":e+=a[0],n+=a[1],r.push({key:"T",data:[e,n]});break;case"Z":case"z":r.push({key:"Z",data:[]}),e=s,n=o;break}return r}function ro(t){const e=[];let n="",s=0,o=0,r=0,i=0,a=0,l=0;for(const{key:c,data:f}of t){switch(c){case"M":e.push({key:"M",data:[...f]}),[s,o]=f,[r,i]=f;break;case"C":e.push({key:"C",data:[...f]}),s=f[4],o=f[5],a=f[2],l=f[3];break;case"L":e.push({key:"L",data:[...f]}),[s,o]=f;break;case"H":s=f[0],e.push({key:"L",data:[s,o]});break;case"V":o=f[0],e.push({key:"L",data:[s,o]});break;case"S":{let d=0,h=0;n==="C"||n==="S"?(d=s+(s-a),h=o+(o-l)):(d=s,h=o),e.push({key:"C",data:[d,h,...f]}),a=f[0],l=f[1],s=f[2],o=f[3];break}case"T":{const[d,h]=f;let u=0,g=0;n==="Q"||n==="T"?(u=s+(s-a),g=o+(o-l)):(u=s,g=o);const p=s+2*(u-s)/3,m=o+2*(g-o)/3,y=d+2*(u-d)/3,v=h+2*(g-h)/3;e.push({key:"C",data:[p,m,y,v,d,h]}),a=u,l=g,s=d,o=h;break}case"Q":{const[d,h,u,g]=f,p=s+2*(d-s)/3,m=o+2*(h-o)/3,y=u+2*(d-u)/3,v=g+2*(h-g)/3;e.push({key:"C",data:[p,m,y,v,u,g]}),a=d,l=h,s=u,o=g;break}case"A":{const d=Math.abs(f[0]),h=Math.abs(f[1]),u=f[2],g=f[3],p=f[4],m=f[5],y=f[6];d===0||h===0?(e.push({key:"C",data:[s,o,m,y,m,y]}),s=m,o=y):(s!==m||o!==y)&&(io(s,o,m,y,d,h,u,g,p).forEach(function(w){e.push({key:"C",data:w})}),s=m,o=y);break}case"Z":e.push({key:"Z",data:[]}),s=r,o=i;break}n=c}return e}function Fa(t){return Math.PI*t/180}function Ke(t,e,n){const s=t*Math.cos(n)-e*Math.sin(n),o=t*Math.sin(n)+e*Math.cos(n);return[s,o]}function io(t,e,n,s,o,r,i,a,l,c){const f=Fa(i);let d=[],h=0,u=0,g=0,p=0;if(c)[h,u,g,p]=c;else{[t,e]=Ke(t,e,-f),[n,s]=Ke(n,s,-f);const M=(t-n)/2,E=(e-s)/2;let B=M*M/(o*o)+E*E/(r*r);B>1&&(B=Math.sqrt(B),o=B*o,r=B*r);const I=a===l?-1:1,C=o*o,ie=r*r,ce=C*ie-C*E*E-ie*M*M,We=C*E*E+ie*M*M,K=I*Math.sqrt(Math.abs(ce/We));g=K*o*E/r+(t+n)/2,p=K*-r*M/o+(e+s)/2,h=Math.asin(parseFloat(((e-p)/r).toFixed(9))),u=Math.asin(parseFloat(((s-p)/r).toFixed(9))),t<g&&(h=Math.PI-h),n<g&&(u=Math.PI-u),h<0&&(h=Math.PI*2+h),u<0&&(u=Math.PI*2+u),l&&h>u&&(h=h-Math.PI*2),!l&&u>h&&(u=u-Math.PI*2)}let m=u-h;if(Math.abs(m)>Math.PI*120/180){const M=u,E=n,B=s;l&&u>h?u=h+Math.PI*120/180*1:u=h+Math.PI*120/180*-1,n=g+o*Math.cos(u),s=p+r*Math.sin(u),d=io(n,s,E,B,o,r,i,0,l,[u,M,g,p])}m=u-h;const y=Math.cos(h),v=Math.sin(h),w=Math.cos(u),b=Math.sin(u),_=Math.tan(m/4),O=4/3*o*_,A=4/3*r*_,D=[t,e],G=[t+O*v,e-A*y],le=[n+O*b,s-A*w],Z=[n,s];if(G[0]=2*D[0]-G[0],G[1]=2*D[1]-G[1],c)return[G,le,Z].concat(d);{d=[G,le,Z].concat(d);const M=[];for(let E=0;E<d.length;E+=3){const B=Ke(d[E][0],d[E][1],f),I=Ke(d[E+1][0],d[E+1][1],f),C=Ke(d[E+2][0],d[E+2][1],f);M.push([B[0],B[1],I[0],I[1],C[0],C[1]])}return M}}const za={randOffset:Wa,randOffsetWithRange:Ga,ellipse:hn,doubleLineOps:Ua};function X(t,e,n,s,o){return{type:"path",ops:fe(t,e,n,s,o)}}function et(t,e,n){const s=(t||[]).length;if(s>2){const o=[];for(let r=0;r<s-1;r++)o.push(...fe(t[r][0],t[r][1],t[r+1][0],t[r+1][1],n));return e&&o.push(...fe(t[s-1][0],t[s-1][1],t[0][0],t[0][1],n)),{type:"path",ops:o}}else if(s===2)return X(t[0][0],t[0][1],t[1][0],t[1][1],n);return{type:"path",ops:[]}}function Va(t,e){return et(t,!0,e)}function ao(t,e,n,s,o){const r=[[t,e],[t+n,e],[t+n,e+s],[t,e+s]];return Va(r,o)}function fs(t,e){if(t.length){const s=typeof t[0][0]=="number"?[t]:t,o=ht(s[0],1*(1+e.roughness*.2),e),r=e.disableMultiStroke?[]:ht(s[0],1.5*(1+e.roughness*.22),ps(e));for(let i=1;i<s.length;i++){const a=s[i];if(a.length){const l=ht(a,1*(1+e.roughness*.2),e),c=e.disableMultiStroke?[]:ht(a,1.5*(1+e.roughness*.22),ps(e));for(const f of l)f.op!=="move"&&o.push(f);for(const f of c)f.op!=="move"&&r.push(f)}}return{type:"path",ops:o.concat(r)}}return{type:"path",ops:[]}}function hn(t,e,n,s,o){const r=lo(n,s,o);return dn(t,e,o,r).opset}function lo(t,e,n){const s=Math.sqrt(Math.PI*2*Math.sqrt((Math.pow(t/2,2)+Math.pow(e/2,2))/2)),o=Math.ceil(Math.max(n.curveStepCount,n.curveStepCount/Math.sqrt(200)*s)),r=Math.PI*2/o;let i=Math.abs(t/2),a=Math.abs(e/2);const l=1-n.curveFitting;return i+=S(i*l,n),a+=S(a*l,n),{increment:r,rx:i,ry:a}}function dn(t,e,n,s){const[o,r]=gs(s.increment,t,e,s.rx,s.ry,1,s.increment*Pt(.1,Pt(.4,1,n),n),n);let i=Et(o,null,n);if(!n.disableMultiStroke&&n.roughness!==0){const[a]=gs(s.increment,t,e,s.rx,s.ry,1.5,0,n),l=Et(a,null,n);i=i.concat(l)}return{estimatedPoints:r,opset:{type:"path",ops:i}}}function hs(t,e,n,s,o,r,i,a,l){const c=t,f=e;let d=Math.abs(n/2),h=Math.abs(s/2);d+=S(d*.01,l),h+=S(h*.01,l);let u=o,g=r;for(;u<0;)u+=Math.PI*2,g+=Math.PI*2;g-u>Math.PI*2&&(u=0,g=Math.PI*2);const p=Math.PI*2/l.curveStepCount,m=Math.min(p/2,(g-u)/2),y=ms(m,c,f,d,h,u,g,1,l);if(!l.disableMultiStroke){const v=ms(m,c,f,d,h,u,g,1.5,l);y.push(...v)}return i&&(a?y.push(...fe(c,f,c+d*Math.cos(u),f+h*Math.sin(u),l),...fe(c,f,c+d*Math.cos(g),f+h*Math.sin(g),l)):y.push({op:"lineTo",data:[c,f]},{op:"lineTo",data:[c+d*Math.cos(u),f+h*Math.sin(u)]})),{type:"path",ops:y}}function ds(t,e){const n=ro(oo(An(t))),s=[];let o=[0,0],r=[0,0];for(const{key:i,data:a}of n)switch(i){case"M":{r=[a[0],a[1]],o=[a[0],a[1]];break}case"L":s.push(...fe(r[0],r[1],a[0],a[1],e)),r=[a[0],a[1]];break;case"C":{const[l,c,f,d,h,u]=a;s.push(...Ja(l,c,f,d,h,u,r,e)),r=[h,u];break}case"Z":s.push(...fe(r[0],r[1],o[0],o[1],e)),r=[o[0],o[1]];break}return{type:"path",ops:s}}function Qt(t,e){const n=[];for(const s of t)if(s.length){const o=e.maxRandomnessOffset||0,r=s.length;if(r>2){n.push({op:"move",data:[s[0][0]+S(o,e),s[0][1]+S(o,e)]});for(let i=1;i<r;i++)n.push({op:"lineTo",data:[s[i][0]+S(o,e),s[i][1]+S(o,e)]})}}return{type:"fillPath",ops:n}}function De(t,e){return ja(e,za).fillPolygons(t,e)}function qa(t,e,n,s,o,r,i){const a=t,l=e;let c=Math.abs(n/2),f=Math.abs(s/2);c+=S(c*.01,i),f+=S(f*.01,i);let d=o,h=r;for(;d<0;)d+=Math.PI*2,h+=Math.PI*2;h-d>Math.PI*2&&(d=0,h=Math.PI*2);const u=(h-d)/i.curveStepCount,g=[];for(let p=d;p<=h;p=p+u)g.push([a+c*Math.cos(p),l+f*Math.sin(p)]);return g.push([a+c*Math.cos(h),l+f*Math.sin(h)]),g.push([a,l]),De([g],i)}function Wa(t,e){return S(t,e)}function Ga(t,e,n){return Pt(t,e,n)}function Ua(t,e,n,s,o){return fe(t,e,n,s,o,!0)}function ps(t){const e=Object.assign({},t);return e.randomizer=void 0,t.seed&&(e.seed=t.seed+1),e}function co(t){return t.randomizer||(t.randomizer=new Ea(t.seed||0)),t.randomizer.next()}function Pt(t,e,n,s=1){return n.roughness*s*(co(n)*(e-t)+t)}function S(t,e,n=1){return Pt(-t,t,e,n)}function fe(t,e,n,s,o,r=!1){const i=r?o.disableMultiStrokeFill:o.disableMultiStroke,a=pn(t,e,n,s,o,!0,!1);if(i)return a;const l=pn(t,e,n,s,o,!0,!0);return a.concat(l)}function pn(t,e,n,s,o,r,i){const a=Math.pow(t-n,2)+Math.pow(e-s,2),l=Math.sqrt(a);let c=1;l<200?c=1:l>500?c=.4:c=-.0016668*l+1.233334;let f=o.maxRandomnessOffset||0;f*f*100>a&&(f=l/10);const d=f/2,h=.2+co(o)*.2;let u=o.bowing*o.maxRandomnessOffset*(s-e)/200,g=o.bowing*o.maxRandomnessOffset*(t-n)/200;u=S(u,o,c),g=S(g,o,c);const p=[],m=()=>S(d,o,c),y=()=>S(f,o,c),v=o.preserveVertices;return i?p.push({op:"move",data:[t+(v?0:m()),e+(v?0:m())]}):p.push({op:"move",data:[t+(v?0:S(f,o,c)),e+(v?0:S(f,o,c))]}),i?p.push({op:"bcurveTo",data:[u+t+(n-t)*h+m(),g+e+(s-e)*h+m(),u+t+2*(n-t)*h+m(),g+e+2*(s-e)*h+m(),n+(v?0:m()),s+(v?0:m())]}):p.push({op:"bcurveTo",data:[u+t+(n-t)*h+y(),g+e+(s-e)*h+y(),u+t+2*(n-t)*h+y(),g+e+2*(s-e)*h+y(),n+(v?0:y()),s+(v?0:y())]}),p}function ht(t,e,n){if(!t.length)return[];const s=[];s.push([t[0][0]+S(e,n),t[0][1]+S(e,n)]),s.push([t[0][0]+S(e,n),t[0][1]+S(e,n)]);for(let o=1;o<t.length;o++)s.push([t[o][0]+S(e,n),t[o][1]+S(e,n)]),o===t.length-1&&s.push([t[o][0]+S(e,n),t[o][1]+S(e,n)]);return Et(s,null,n)}function Et(t,e,n){const s=t.length,o=[];if(s>3){const r=[],i=1-n.curveTightness;o.push({op:"move",data:[t[1][0],t[1][1]]});for(let a=1;a+2<s;a++){const l=t[a];r[0]=[l[0],l[1]],r[1]=[l[0]+(i*t[a+1][0]-i*t[a-1][0])/6,l[1]+(i*t[a+1][1]-i*t[a-1][1])/6],r[2]=[t[a+1][0]+(i*t[a][0]-i*t[a+2][0])/6,t[a+1][1]+(i*t[a][1]-i*t[a+2][1])/6],r[3]=[t[a+1][0],t[a+1][1]],o.push({op:"bcurveTo",data:[r[1][0],r[1][1],r[2][0],r[2][1],r[3][0],r[3][1]]})}}else s===3?(o.push({op:"move",data:[t[1][0],t[1][1]]}),o.push({op:"bcurveTo",data:[t[1][0],t[1][1],t[2][0],t[2][1],t[2][0],t[2][1]]})):s===2&&o.push(...pn(t[0][0],t[0][1],t[1][0],t[1][1],n,!0,!0));return o}function gs(t,e,n,s,o,r,i,a){const l=a.roughness===0,c=[],f=[];if(l){t=t/4,f.push([e+s*Math.cos(-t),n+o*Math.sin(-t)]);for(let d=0;d<=Math.PI*2;d=d+t){const h=[e+s*Math.cos(d),n+o*Math.sin(d)];c.push(h),f.push(h)}f.push([e+s*Math.cos(0),n+o*Math.sin(0)]),f.push([e+s*Math.cos(t),n+o*Math.sin(t)])}else{const d=S(.5,a)-Math.PI/2;f.push([S(r,a)+e+.9*s*Math.cos(d-t),S(r,a)+n+.9*o*Math.sin(d-t)]);const h=Math.PI*2+d-.01;for(let u=d;u<h;u=u+t){const g=[S(r,a)+e+s*Math.cos(u),S(r,a)+n+o*Math.sin(u)];c.push(g),f.push(g)}f.push([S(r,a)+e+s*Math.cos(d+Math.PI*2+i*.5),S(r,a)+n+o*Math.sin(d+Math.PI*2+i*.5)]),f.push([S(r,a)+e+.98*s*Math.cos(d+i),S(r,a)+n+.98*o*Math.sin(d+i)]),f.push([S(r,a)+e+.9*s*Math.cos(d+i*.5),S(r,a)+n+.9*o*Math.sin(d+i*.5)])}return[f,c]}function ms(t,e,n,s,o,r,i,a,l){const c=r+S(.1,l),f=[];f.push([S(a,l)+e+.9*s*Math.cos(c-t),S(a,l)+n+.9*o*Math.sin(c-t)]);for(let d=c;d<=i;d=d+t)f.push([S(a,l)+e+s*Math.cos(d),S(a,l)+n+o*Math.sin(d)]);return f.push([e+s*Math.cos(i),n+o*Math.sin(i)]),f.push([e+s*Math.cos(i),n+o*Math.sin(i)]),Et(f,null,l)}function Ja(t,e,n,s,o,r,i,a){const l=[],c=[a.maxRandomnessOffset||1,(a.maxRandomnessOffset||1)+.3];let f=[0,0];const d=a.disableMultiStroke?1:2,h=a.preserveVertices;for(let u=0;u<d;u++)u===0?l.push({op:"move",data:[i[0],i[1]]}):l.push({op:"move",data:[i[0]+(h?0:S(c[0],a)),i[1]+(h?0:S(c[0],a))]}),f=h?[o,r]:[o+S(c[u],a),r+S(c[u],a)],l.push({op:"bcurveTo",data:[t+S(c[u],a),e+S(c[u],a),n+S(c[u],a),s+S(c[u],a),f[0],f[1]]});return l}function Qe(t){return[...t]}function ys(t,e=0){const n=t.length;if(n<3)throw new Error("A curve must have at least three points.");const s=[];if(n===3)s.push(Qe(t[0]),Qe(t[1]),Qe(t[2]),Qe(t[2]));else{const o=[];o.push(t[0],t[0]);for(let a=1;a<t.length;a++)o.push(t[a]),a===t.length-1&&o.push(t[a]);const r=[],i=1-e;s.push(Qe(o[0]));for(let a=1;a+2<o.length;a++){const l=o[a];r[0]=[l[0],l[1]],r[1]=[l[0]+(i*o[a+1][0]-i*o[a-1][0])/6,l[1]+(i*o[a+1][1]-i*o[a-1][1])/6],r[2]=[o[a+1][0]+(i*o[a][0]-i*o[a+2][0])/6,o[a+1][1]+(i*o[a][1]-i*o[a+2][1])/6],r[3]=[o[a+1][0],o[a+1][1]],s.push(r[1],r[2],r[3])}}return s}function Ka(t,e){return Math.sqrt(wt(t,e))}function wt(t,e){return Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)}function Qa(t,e,n){const s=wt(e,n);if(s===0)return wt(t,e);let o=((t[0]-e[0])*(n[0]-e[0])+(t[1]-e[1])*(n[1]-e[1]))/s;return o=Math.max(0,Math.min(1,o)),wt(t,Ae(e,n,o))}function Ae(t,e,n){return[t[0]+(e[0]-t[0])*n,t[1]+(e[1]-t[1])*n]}function Ya(t,e){const n=t[e+0],s=t[e+1],o=t[e+2],r=t[e+3];let i=3*s[0]-2*n[0]-r[0];i*=i;let a=3*s[1]-2*n[1]-r[1];a*=a;let l=3*o[0]-2*r[0]-n[0];l*=l;let c=3*o[1]-2*r[1]-n[1];return c*=c,i<l&&(i=l),a<c&&(a=c),i+a}function gn(t,e,n,s){const o=s||[];if(Ya(t,e)<n){const r=t[e+0];o.length?Ka(o[o.length-1],r)>1&&o.push(r):o.push(r),o.push(t[e+3])}else{const i=t[e+0],a=t[e+1],l=t[e+2],c=t[e+3],f=Ae(i,a,.5),d=Ae(a,l,.5),h=Ae(l,c,.5),u=Ae(f,d,.5),g=Ae(d,h,.5),p=Ae(u,g,.5);gn([i,f,u,p],0,n,o),gn([p,g,h,c],0,n,o)}return o}function Za(t,e){return Lt(t,0,t.length,e)}function Lt(t,e,n,s,o){const r=o||[],i=t[e],a=t[n-1];let l=0,c=1;for(let f=e+1;f<n-1;++f){const d=Qa(t[f],i,a);d>l&&(l=d,c=f)}return Math.sqrt(l)>s?(Lt(t,e,c+1,s,r),Lt(t,c,n,s,r)):(r.length||r.push(i),r.push(a)),r}function mn(t,e=.15,n){const s=[],o=(t.length-1)/3;for(let r=0;r<o;r++){const i=r*3;gn(t,i,e,s)}return n&&n>0?Lt(s,0,s.length,n):s}function Xa(t,e,n){const s=An(t),o=ro(oo(s)),r=[];let i=[],a=[0,0],l=[];const c=()=>{l.length>=4&&i.push(...mn(l,e)),l=[]},f=()=>{c(),i.length&&(r.push(i),i=[])};for(const{key:h,data:u}of o)switch(h){case"M":f(),a=[u[0],u[1]],i.push(a);break;case"L":c(),i.push([u[0],u[1]]);break;case"C":if(!l.length){const g=i.length?i[i.length-1]:a;l.push([g[0],g[1]])}l.push([u[0],u[1]]),l.push([u[2],u[3]]),l.push([u[4],u[5]]);break;case"Z":c(),i.push([a[0],a[1]]);break}if(f(),!n)return r;const d=[];for(const h of r){const u=Za(h,n);u.length&&d.push(u)}return d}const Q="none";class el{constructor(e){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=e||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return no()}_o(e){return e?Object.assign({},this.defaultOptions,e):this.defaultOptions}_d(e,n,s){return{shape:e,sets:n||[],options:s||this.defaultOptions}}line(e,n,s,o,r){const i=this._o(r);return this._d("line",[X(e,n,s,o,i)],i)}rectangle(e,n,s,o,r){const i=this._o(r),a=[],l=ao(e,n,s,o,i);if(i.fill){const c=[[e,n],[e+s,n],[e+s,n+o],[e,n+o]];i.fillStyle==="solid"?a.push(Qt([c],i)):a.push(De([c],i))}return i.stroke!==Q&&a.push(l),this._d("rectangle",a,i)}ellipse(e,n,s,o,r){const i=this._o(r),a=[],l=lo(s,o,i),c=dn(e,n,i,l);if(i.fill)if(i.fillStyle==="solid"){const f=dn(e,n,i,l).opset;f.type="fillPath",a.push(f)}else a.push(De([c.estimatedPoints],i));return i.stroke!==Q&&a.push(c.opset),this._d("ellipse",a,i)}circle(e,n,s,o){const r=this.ellipse(e,n,s,s,o);return r.shape="circle",r}linearPath(e,n){const s=this._o(n);return this._d("linearPath",[et(e,!1,s)],s)}arc(e,n,s,o,r,i,a=!1,l){const c=this._o(l),f=[],d=hs(e,n,s,o,r,i,a,!0,c);if(a&&c.fill)if(c.fillStyle==="solid"){const h=Object.assign({},c);h.disableMultiStroke=!0;const u=hs(e,n,s,o,r,i,!0,!1,h);u.type="fillPath",f.push(u)}else f.push(qa(e,n,s,o,r,i,c));return c.stroke!==Q&&f.push(d),this._d("arc",f,c)}curve(e,n){const s=this._o(n),o=[],r=fs(e,s);if(s.fill&&s.fill!==Q)if(s.fillStyle==="solid"){const i=fs(e,Object.assign(Object.assign({},s),{disableMultiStroke:!0,roughness:s.roughness?s.roughness+s.fillShapeRoughnessGain:0}));o.push({type:"fillPath",ops:this._mergedShape(i.ops)})}else{const i=[],a=e;if(a.length){const c=typeof a[0][0]=="number"?[a]:a;for(const f of c)f.length<3?i.push(...f):f.length===3?i.push(...mn(ys([f[0],f[0],f[1],f[2]]),10,(1+s.roughness)/2)):i.push(...mn(ys(f),10,(1+s.roughness)/2))}i.length&&o.push(De([i],s))}return s.stroke!==Q&&o.push(r),this._d("curve",o,s)}polygon(e,n){const s=this._o(n),o=[],r=et(e,!0,s);return s.fill&&(s.fillStyle==="solid"?o.push(Qt([e],s)):o.push(De([e],s))),s.stroke!==Q&&o.push(r),this._d("polygon",o,s)}path(e,n){const s=this._o(n),o=[];if(!e)return this._d("path",o,s);e=(e||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const r=s.fill&&s.fill!=="transparent"&&s.fill!==Q,i=s.stroke!==Q,a=!!(s.simplification&&s.simplification<1),l=a?4-4*(s.simplification||1):(1+s.roughness)/2,c=Xa(e,1,l),f=ds(e,s);if(r)if(s.fillStyle==="solid")if(c.length===1){const d=ds(e,Object.assign(Object.assign({},s),{disableMultiStroke:!0,roughness:s.roughness?s.roughness+s.fillShapeRoughnessGain:0}));o.push({type:"fillPath",ops:this._mergedShape(d.ops)})}else o.push(Qt(c,s));else o.push(De(c,s));return i&&(a?c.forEach(d=>{o.push(et(d,!1,s))}):o.push(f)),this._d("path",o,s)}opsToPath(e,n){let s="";for(const o of e.ops){const r=typeof n=="number"&&n>=0?o.data.map(i=>+i.toFixed(n)):o.data;switch(o.op){case"move":s+=`M${r[0]} ${r[1]} `;break;case"bcurveTo":s+=`C${r[0]} ${r[1]}, ${r[2]} ${r[3]}, ${r[4]} ${r[5]} `;break;case"lineTo":s+=`L${r[0]} ${r[1]} `;break}}return s.trim()}toPaths(e){const n=e.sets||[],s=e.options||this.defaultOptions,o=[];for(const r of n){let i=null;switch(r.type){case"path":i={d:this.opsToPath(r),stroke:s.stroke,strokeWidth:s.strokeWidth,fill:Q};break;case"fillPath":i={d:this.opsToPath(r),stroke:Q,strokeWidth:0,fill:s.fill||Q};break;case"fillSketch":i=this.fillSketch(r,s);break}i&&o.push(i)}return o}fillSketch(e,n){let s=n.fillWeight;return s<0&&(s=n.strokeWidth/2),{d:this.opsToPath(e),stroke:n.fill||Q,strokeWidth:s,fill:Q}}_mergedShape(e){return e.filter((n,s)=>s===0?!0:n.op!=="move")}}const uo="http://www.w3.org/2000/svg",tl=800;let Yt=null;function nl(){return Yt||(Yt=new el().defaultOptions),Yt}function Zt(t,e,n){return{...nl(),maxRandomnessOffset:2,roughness:t==="highlight"?3:1.5,bowing:1,stroke:"#000",strokeWidth:1.5,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,disableMultiStroke:t!=="double",disableMultiStrokeFill:!1,seed:e,...n}}function sl(t){const e=t.padding;if(e||e===0){if(typeof e=="number")return[e,e,e,e];if(Array.isArray(e)){const n=e;if(n.length)switch(n.length){case 4:return[...n];case 1:return[n[0],n[0],n[0],n[0]];case 2:return[...n,...n];case 3:return[...n,n[1]];default:return[n[0],n[1],n[2],n[3]]}}}return[5,5,5,5]}function ol(t,e,n,s,o,r){const i=[];let a=n.strokeWidth||2;const l=sl(n),c=n.animate===void 0?!0:!!n.animate,f=n.iterations||2,d=n.rtl?1:0,h=Zt("single",r,n);switch(n.type){case"underline":{const u=e.y+e.h+l[2];for(let g=d;g<f+d;g++)g%2?i.push(X(e.x+e.w,u,e.x,u,h)):i.push(X(e.x,u,e.x+e.w,u,h));break}case"strike-through":{const u=e.y+e.h/2;for(let g=d;g<f+d;g++)g%2?i.push(X(e.x+e.w,u,e.x,u,h)):i.push(X(e.x,u,e.x+e.w,u,h));break}case"box":{const u=e.x-l[3],g=e.y-l[0],p=e.w+(l[1]+l[3]),m=e.h+(l[0]+l[2]);for(let y=0;y<f;y++)i.push(ao(u,g,p,m,h));break}case"bracket":{const u=Array.isArray(n.brackets)?n.brackets:n.brackets?[n.brackets]:["right"],g=e.x-l[3]*2,p=e.x+e.w+l[1]*2,m=e.y-l[0]*2,y=e.y+e.h+l[2]*2;for(const v of u){let w;switch(v){case"bottom":w=[[g,e.y+e.h],[g,y],[p,y],[p,e.y+e.h]];break;case"top":w=[[g,e.y],[g,m],[p,m],[p,e.y]];break;case"left":w=[[e.x,m],[g,m],[g,y],[e.x,y]];break;case"right":w=[[e.x+e.w,m],[p,m],[p,y],[e.x+e.w,y]];break}w&&i.push(et(w,!1,h))}break}case"crossed-off":{const u=e.x,g=e.y,p=u+e.w,m=g+e.h;for(let y=d;y<f+d;y++)y%2?i.push(X(p,m,u,g,h)):i.push(X(u,g,p,m,h));for(let y=d;y<f+d;y++)y%2?i.push(X(u,m,p,g,h)):i.push(X(p,g,u,m,h));break}case"circle":{const u=Zt("double",r,n),g=e.w+(l[1]+l[3]),p=e.h+(l[0]+l[2]),m=e.x-l[3]+g/2,y=e.y-l[0]+p/2,v=Math.floor(f/2),w=f-v*2;for(let b=0;b<v;b++)i.push(hn(m,y,g,p,u));for(let b=0;b<w;b++)i.push(hn(m,y,g,p,h));break}case"highlight":{const u=Zt("highlight",r,n);a=e.h*.95;const g=e.y+e.h/2;for(let p=d;p<f+d;p++)p%2?i.push(X(e.x+e.w,g,e.x,g,u)):i.push(X(e.x,g,e.x+e.w,g,u));break}}if(i.length){const u=rl(i),g=[],p=[];let m=0;const y=(v,w,b)=>v.setAttribute(w,b);for(const v of u){const w=document.createElementNS(uo,"path");if(y(w,"d",v),y(w,"fill","none"),y(w,"stroke",n.color||"currentColor"),y(w,"stroke-width",`${a}`),n.opacity!==void 0&&y(w,"style",`opacity:${n.opacity}`),c){const b=w.getTotalLength();g.push(b),m+=b}t.appendChild(w),p.push(w)}if(c){let v=0;for(let w=0;w<p.length;w++){const b=p[w],_=g[w],O=m?o*(_/m):0,A=s+v,D=b.style;D.strokeDashoffset=`${_}`,D.strokeDasharray=`${_}`,D.animation=`rough-notation-dash ${O}ms ease-out ${A}ms forwards`,v+=O}return vs(o+s)}}return vs(0)}function vs(t){return new Promise(e=>setTimeout(e,t))}function rl(t){const e=[];for(const n of t){let s="";for(const o of n.ops){const r=o.data;switch(o.op){case"move":s.trim()&&e.push(s.trim()),s=`M${r[0]} ${r[1]} `;break;case"bcurveTo":s+=`C${r[0]} ${r[1]}, ${r[2]} ${r[3]}, ${r[4]} ${r[5]} `;break;case"lineTo":s+=`L${r[0]} ${r[1]} `;break}}s.trim()&&e.push(s.trim())}return e}function il(){if(!window.__rno_kf_s){const t=window.__rno_kf_s=document.createElement("style");t.textContent="@keyframes rough-notation-dash { to { stroke-dashoffset: 0; } }",document.head.appendChild(t)}}var al=Object.defineProperty,ll=(t,e,n)=>e in t?al(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ne=(t,e,n)=>(ll(t,typeof e!="symbol"?e+"":e,n),n);class cl{constructor(e,n){ne(this,"_state","unattached"),ne(this,"_config"),ne(this,"_resizing",!1),ne(this,"_ro"),ne(this,"_seed",no()),ne(this,"_e"),ne(this,"_svg"),ne(this,"_lastSizes",[]),ne(this,"_animationDelay",0),ne(this,"_resizeListener",()=>{this._resizing||(this._resizing=!0,setTimeout(()=>{this._resizing=!1,this._state==="showing"&&this.haveRectsChanged()&&this.show()},400))}),ne(this,"pendingRefresh"),this._e=e,this._config=JSON.parse(JSON.stringify(n)),this.attach()}getConfig(e){return this._config[e]}setConfig(e,n){this._config[e]!==n&&(this._config[e]=n,this.refresh())}get animate(){return this._config.animate}set animate(e){this._config.animate=e}get animationDuration(){return this._config.animationDuration}set animationDuration(e){this._config.animationDuration=e}get iterations(){return this._config.iterations}set iterations(e){this._config.iterations=e}get color(){return this._config.color}set color(e){this._config.color!==e&&(this._config.color=e,this.refresh())}get class(){return this._config.class}set class(e){this._config.class!==e&&(this._config.class=e,this._svg&&this._svg.setAttribute("class",["rough-annotation",this._config.class||""].filter(Boolean).join(" ")))}get strokeWidth(){return this._config.strokeWidth}set strokeWidth(e){this._config.strokeWidth!==e&&(this._config.strokeWidth=e,this.refresh())}get padding(){return this._config.padding}set padding(e){this._config.padding!==e&&(this._config.padding=e,this.refresh())}attach(){if(this._state==="unattached"&&this._e.parentElement){il();const e=this._svg=document.createElementNS(uo,"svg");e.setAttribute("class",["rough-annotation",this._config.class||""].filter(Boolean).join(" "));const n=e.style;n.position="absolute",n.top="0",n.left="0",n.overflow="visible",n.pointerEvents="none",n.width="100px",n.height="100px";const s=this._config.type==="highlight";if(this._e.insertAdjacentElement(s?"beforebegin":"afterend",e),this._state="not-showing",s){const o=window.getComputedStyle(this._e).position;(!o||o==="static")&&(this._e.style.position="relative")}this.attachListeners()}}detachListeners(){window.removeEventListener("resize",this._resizeListener),this._ro&&this._ro.unobserve(this._e)}attachListeners(){this.detachListeners(),window.addEventListener("resize",this._resizeListener,{passive:!0}),!this._ro&&"ResizeObserver"in window&&(this._ro=new window.ResizeObserver(e=>{for(const n of e)n.contentRect&&this._resizeListener()})),this._ro&&this._ro.observe(this._e)}haveRectsChanged(){if(this._lastSizes.length){const e=this.rects();if(e.length===this._lastSizes.length){for(let n=0;n<e.length;n++)if(!this.isSameRect(e[n],this._lastSizes[n]))return!0}else return!0}return!1}isSameRect(e,n){const s=(o,r)=>Math.round(o)===Math.round(r);return s(e.x,n.x)&&s(e.y,n.y)&&s(e.w,n.w)&&s(e.h,n.h)}isShowing(){return this._state!=="not-showing"}refresh(){this.isShowing()&&!this.pendingRefresh&&(this.pendingRefresh=Promise.resolve().then(()=>{this.isShowing()&&this.show(),delete this.pendingRefresh}))}async show(){switch(this._state){case"unattached":break;case"showing":this.hide(),this._svg&&await this.render(this._svg,!0);break;case"not-showing":this.attach(),this._svg&&await this.render(this._svg,!1);break}}hide(){if(this._svg)for(;this._svg.lastChild;)this._svg.removeChild(this._svg.lastChild);this._state="not-showing"}remove(){this._svg&&this._svg.parentElement&&this._svg.parentElement.removeChild(this._svg),this._svg=void 0,this._state="unattached",this.detachListeners()}async render(e,n){let s=this._config;n&&(s=JSON.parse(JSON.stringify(this._config)),s.animate=!1);const o=this.rects();let r=0;o.forEach(c=>r+=c.w);const i=s.animationDuration||tl;let a=0;const l=[];for(let c=0;c<o.length;c++){const f=o[c],d=i*(f.w/r);l.push(ol(e,o[c],s,a+this._animationDelay+(this._config.delay||0),d,this._seed)),a+=d}return this._lastSizes=o,this._state="showing",await Promise.all(l)}rects(){const e=[];if(this._svg)if(this._config.multiline){const n=this._e.getClientRects();for(let s=0;s<n.length;s++)e.push(this.svgRect(this._svg,n[s]))}else e.push(this.svgRect(this._svg,this._e.getBoundingClientRect()));return e}svgRect(e,n){const s=e.getBoundingClientRect(),o=n;return{x:(o.x||o.left)-(s.x||s.left),y:(o.y||o.top)-(s.y||s.top),w:o.width,h:o.height}}}function ul(t,e){return new cl(t,e)}function J(t,e){return t.class=[t.class,e].filter(Boolean).join(" "),t}const ws={box:t=>Object.assign(t,{type:"box"}),circle:t=>Object.assign(t,{type:"circle"}),underline:t=>Object.assign(t,{type:"underline"}),highlight:t=>Object.assign(t,{type:"highlight"}),"strike-through":t=>Object.assign(t,{type:"strike-through"}),"crossed-off":t=>Object.assign(t,{type:"crossed-off"}),bracket:t=>Object.assign(t,{type:"bracket"}),strike:t=>Object.assign(t,{type:"strike-through"}),cross:t=>Object.assign(t,{type:"crossed-off"}),crossed:t=>Object.assign(t,{type:"crossed-off"}),linethrough:t=>Object.assign(t,{type:"strike-through"}),"line-through":t=>Object.assign(t,{type:"strike-through"}),black:t=>J(t,"text-black"),blue:t=>J(t,"text-blue"),cyan:t=>J(t,"text-cyan"),gray:t=>J(t,"text-gray"),green:t=>J(t,"text-green"),indigo:t=>J(t,"text-indigo"),lime:t=>J(t,"text-lime"),orange:t=>J(t,"text-orange"),pink:t=>J(t,"text-pink"),purple:t=>J(t,"text-purple"),red:t=>J(t,"text-red"),teal:t=>J(t,"text-teal"),white:t=>J(t,"text-white"),yellow:t=>J(t,"text-yellow")},fl=[[/^delay-?(\d+)?$/,(t,e,n)=>{const s=(t[1]?Number.parseInt(t[1]):n)||300;return e.delay=s,e}],[/^(?:op|opacity)-?(\d+)?$/,(t,e,n)=>{const s=(t[1]?Number.parseInt(t[1]):n)||100;return e.opacity=s/100,e}]];function hl(){return{install(t){t.directive("mark",{name:"v-mark",mounted:(e,n)=>{const{isPrintMode:s}=qe(),o=k(()=>{const a=typeof n.value=="object"&&!Array.isArray(n.value)?{...n.value}:{at:n.value};let l={at:a.at};const c=Object.entries(n.modifiers).filter(([d,h])=>{if(ws[d])return l=ws[d](l,h),!1;for(const[u,g]of fl){const p=d.match(u);if(p)return l=g(p,l,h),!1}return!0});c.length&&console.warn("[Slidev] Invalid modifiers for v-mark:",c);const f={...l,...a};return f.type||="underline",s.value&&(f.animationDuration=1),f}),r=ul(e,o.value),i=vt(e,n,o.value.at);if(!i){r.show();return}e.watchStopHandle=ze(()=>{let a;o.value.class&&(r.class=o.value.class),o.value.color&&(r.color=o.value.color);const l=o.value.at;l===!0?a=!0:l===!1?a=!1:a=i.isActive.value,a!=null&&(a?r.show():r.hide())})},unmounted:e=>{e.watchStopHandle?.()}})}}}function dl(){return{install(t){const e=Bo();t.directive("motion",{name:"v-motion",mounted(n,s,o,r){const i=Ve(s,$t),a=Ve(s,vn),l=Ve(s,wn),{currentPage:c,clicks:f,isPrintMode:d}=qe(),h=o.props={...o.props},u={...h.initial,...h.variants?.["slidev-initial"]},g={...h.enter,...h.variants?.["slidev-enter"]},p={...h.leave,...h.variants?.["slidev-leave"]};delete h.initial,delete h.enter,delete h.leave;const m=`${En()}-`,y=[];for(const w of Object.keys(h))if(w.startsWith("click-")){const b=w.slice(6),_=b.includes("-")?b.split("-").map(Number):+b,O=m+b;y.push({id:O,at:_,variant:{...h[w]},info:i?.value.calculate(_)}),delete h[w]}y.sort((w,b)=>(Array.isArray(w.at)?w.at[0]:w.at)-(Array.isArray(b.at)?b.at[0]:b.at)),e.created(n,s,o,r),e.mounted(n,s,o,r);const v=n.motionInstance;v.clickIds=y.map(w=>w.id),v.set(u),v.watchStopHandle=ee([a,c,f].filter(Boolean),()=>{const w=to.get(n)?.visibilityState.value??"shown";if(!i?.value||!["slide","presenter"].includes(l?.value??"")){const b={...u,...g};for(const{variant:_}of y)Object.assign(b,_);v.set(b)}else if(d.value||a?.value===c.value)if(w==="shown"){const b={...u,...g};for(const{variant:_,info:O}of y)(!O||O.isActive.value)&&Object.assign(b,_);d.value?v.set(b):v.apply(b)}else v.apply(w==="before"?u:p);else v.apply((a?.value??-1)>c.value?u:p)},{immediate:!0})},unmounted(n){n.motionInstance.watchStopHandle()}})}}}const pl=[Object.values([])[0],Object.values([])[0]].filter(Boolean);function gl(){const t=[];function e(n){if(!R.remote||R.remote===n.query.password)return!0;if(R.remote&&n.query.password===void 0){const s=prompt("Enter password");if(R.remote===s)return!0}return n.params.no?{path:`/${n.params.no}`}:{path:""}}return t.push({name:"entry",path:"/entry",component:()=>P(()=>import("./slidev/entry-B6OyIroc.js"),__vite__mapDeps([23,1,3,4,24])),beforeEnter:e},{name:"overview",path:"/overview",component:()=>P(()=>import("./slidev/overview-4zutn7KQ.js"),__vite__mapDeps([25,26,1,27,28,29,30,31,32,3,4])),beforeEnter:e},{name:"notes",path:"/notes",component:()=>P(()=>import("./slidev/notes-CRriqRiX.js"),__vite__mapDeps([33,1,27,28,34,31,35,3,4])),beforeEnter:e},{name:"notes-edit",path:"/notes-edit",component:()=>P(()=>import("./slidev/notes-edit-B8btUzeI.js"),__vite__mapDeps([36,1,32,31,35,3,4])),beforeEnter:e},{name:"presenter",path:"/presenter/:no",component:()=>P(()=>import("./slidev/presenter-BrlRpD5I.js"),__vite__mapDeps([37,1,29,30,38,2,26,31,3,4,39,27,28,34,40,41,32,42])),beforeEnter:e},{path:"/presenter",redirect:{path:"/presenter/1"}}),t.push({name:"play",path:"/:no",component:()=>P(()=>import("./slidev/play-CEByQMof.js"),__vite__mapDeps([43,1,29,30,38,2,26,31,3,4,39,35,44]))},{path:"",redirect:{path:"/1"}},{path:"/:pathMatch(.*)*",name:"NotFound",component:()=>P(()=>import("./slidev/404-DAbi6os4.js"),__vite__mapDeps([45,1,3,4,46]))}),pl.reduce((n,s)=>s(n),t)}async function ml(t){function e(){document.documentElement.style.setProperty("--vh",`${window.innerHeight*.01}px`)}e(),window.addEventListener("resize",e);const n=Fo({history:zo("/presentation/gptoss-safetytax/"),routes:gl()});t.use(n),t.use(_a()),t.use(Sa()),t.use(hl()),t.use(Pa()),t.use(dl()),t.use(qo,{container:"#twoslash-container"});const s={app:t,router:n};for(const o of wa)await o(s)}async function yl(){const t=Vo(va);await ml(t),t.mount("#app")}yl();export{El as $,Ol as A,Ci as B,pt as C,Rl as D,xi as E,rn as F,Dl as G,ql as H,bl as I,_t as J,Pl as K,Ns as L,Li as M,at as N,Cl as O,Yl as P,Fl as Q,Bl as R,se as S,Pi as T,Ma as U,Es as V,Yo as W,$l as X,yi as Y,bn as Z,Lr as _,qe as a,rt as a0,Ll as a1,Al as a2,Nl as a3,Il as a4,Jl as a5,Ul as a6,Gl as a7,te as a8,Zs as a9,Xs as aa,Is as ab,Ps as ac,Sl as ad,wi as ae,vn as af,wn as ag,$t as ah,bi as ai,Ql as aj,vi as ak,Ml as al,_i as am,Bs as b,Or as c,Kl as d,xs as e,xl as f,je as g,it as h,as as i,Ai as j,St as k,zl as l,Vl as m,Hl as n,R as o,kl as p,_l as q,tn as r,Bt as s,Wl as t,Sr as u,In as v,Rt as w,jl as x,P as y,Tl as z};
