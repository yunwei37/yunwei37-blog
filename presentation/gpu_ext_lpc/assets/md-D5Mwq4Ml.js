import{_ as n}from"./slidev/CodeBlockWrapper.vue_vue_type_script_setup_true_lang-CsugAc3E.js";import{o as r,b as p,w as l,g as i,d,m as g,ad as s,v as A,x as c,T as a}from"./modules/vue-DKa6yo2_.js";import{I as o}from"./slidev/default-BVMwP1e_.js";import{u as y,f as D}from"./slidev/context-C9THqvHm.js";import"./modules/unplugin-icons-D9YVFeTF.js";import"./index-6XWLnGbc.js";import"./modules/shiki-CObCGuql.js";const u={class:"grid grid-cols-2 gap-4"},B={class:"text-xs overflow-y-auto",style:{"max-height":"400px"}},w={__name:"slides.md__slidev_14",setup(C){const{$clicksContext:e,$frontmatter:k}=y();return e.setup(),(_,t)=>{const h=n;return r(),p(o,A(c(a(D)(a(k),13))),{default:l(()=>[t[2]||(t[2]=i("h1",null,"Scheduling Interface",-1)),i("div",u,[i("div",B,[d(h,g({},{title:"",ranges:[]}),{default:l(()=>[...t[0]||(t[0]=[i("pre",{class:"shiki shiki-themes vitesse-dark vitesse-light slidev-code",style:{"--shiki-dark":"#dbd7caee","--shiki-light":"#393a34","--shiki-dark-bg":"#121212","--shiki-light-bg":"#ffffff"}},[i("code",{class:"language-c"},[i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"struct"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," gpu_sched_ops "),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"{")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}},"  // Called when task group is created")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}},"  // Trigger: cuCtxCreate / cudaSetDevice")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}},"  // Can: set timeslice, interleave level")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}},"  // Ctx: tsg_id, engine_type, default_timeslice")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"  int"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}}," ("),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"*"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"task_init"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},")("),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"struct"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," gpu_task_init_ctx "),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"*"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"ctx"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}},"  // Called when task group binds to runlist (ONE-TIME)")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}},"  // Trigger: first kernel launch activates the TSG")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}},"  // Note: subsequent kernel launches bypass driver!")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}},"  // Can: admission control (reject bind)")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"  int"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}}," ("),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"*"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"task_bind"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},")("),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"struct"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," gpu_task_bind_ctx "),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"*"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"ctx"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}},"  // Called when task group is destroyed")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}},"  // Trigger: cuCtxDestroy / process exit")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}},"  // Can: cleanup BPF map state")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"  int"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}}," ("),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"*"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"task_destroy"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},")("),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"struct"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," gpu_task_ctx "),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"*"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"ctx"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"};")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}},"// kfuncs to set timeslice, interleave level")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"void"),i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}}," bpf_gpu_set_attr"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"ctx"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},","),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," u64 "),i("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}},"us"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},");")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"void"),i("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}}," bpf_gpu_reject_bind"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"ctx"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},");")])])],-1)])]),_:1},16)]),t[1]||(t[1]=i("div",{class:"text-sm"},[i("h3",null,"Policy Can Set"),i("ul",null,[i("li",null,"Timeslice (1s for LC, 200Î¼s for BE)"),i("li",null,"Interleave level (LOW/MED/HIGH priority)"),i("li",null,"Accept/reject task binding")]),i("h3",null,"Policy"),i("p",null,"The default is round-robin / FIFO, we can impl:"),i("ul",null,[i("li",null,"LC vs BE differentiation by process name"),i("li",null,"Multi-tenant fairness / isolation")])],-1))])]),_:1},16)}}};export{w as default};
